webpackJsonp([10],{41:function(e,t,a){var u=a(1),n=a(3),r={contextTypes:{session:u.PropTypes.object},updateProps:function(){var e=this,t=e.props;e.atomicCSS=n(e,["context","digestConfig","atomicCSS",e.constructor.displayName]),e.colors=n(e.props.data,["colors","0"]),e.color=n(e.colors,["hexcode"]),e.colorStyle={color:e.color},e.category=t.category||n(e.props.data,["categories","0","label"]),e.device=n(e,["context","session","dimensions","device"],"smartphone"),e.isSmartphone="smartphone"===e.device},componentWillMount:function(){this.updateProps()}};e.exports=r},198:function(e,t,a){var u=a(64),n=a(4)("DigestService:changeCurrentUrl"),r=a(38);e.exports=function(e,t,a){if(n("Change Current Digest Url",t),!e||!t||!t.url)return a&&a(r.http.badRequest("Missing url parameter"));var d=e.getStore(u);if(d.isLoading())return a&&a();var i={url:t.url};e.dispatch("CHANGE_CURRENT_URL",i),a&&a()}},308:function(e,t,a){function u(e,t){e.service.read("latestIds",{},{},function(e,a){return d("Get latest IDs",a),a=i(a,["result","latest_digests",0]),e||!a?t(e,null):void(t&&t(null,a))})}function n(e,t,a,u){var n,r,s;return t=t||{},s=parseInt(t.page,10)||0,u&&(r=i(u,["latestId"],{}),t.date=r.date,t.edition=parseInt(r.edition,10)),!t.date&&isNaN(t.edition)?(n="args.date or args.edition are missing from latestIds API",a&&a(n,null)):void e.service.read("oldDigest",t,{},function(e,t){return t=i(t,["result","items",s,"webpageUrl"]),d("Get digest",t),e||!t?a&&a():void(a&&a(null,t))})}var r=a(44),d=a(4)("DigestActions:getDigestUrl"),i=a(3);e.exports=function(e,t,a){if(d("Execute action",t),!e||!t)return a&&a(Error("Invalid parameters"));if(t.url)return a&&a(null,t.url);var i={date:t.date,edition:parseInt(t.edition,10),page:parseInt(t.page,10)||0};i.date&&!isNaN(i.edition)?n(e,i,a):r.auto({latestId:u.bind(this,e),digestUrl:["latestId",n.bind(this,e,i)]},function(e,t){d("get digest URL",t.digestUrl),a&&a(null,t.digestUrl)})}},309:function(e,t,a){function u(e,t,a){var u=t.url;return u?void e.service.read("digest",{url:u},{},function(e,t){a(e,t)}):a&&a(s.http.badRequest("Missing url parameter"))}var n=a(64),r=a(44),d=a(198),i=a(4)("DigestActions:loadDigest"),s=a(38),o=a(308);e.exports=function(e,t,a){if(i("Load digest",t),!e||!t)return a&&a(s.http.badRequest("Missing url parameter"));var c=t.url,l=e.getStore(n);if(l.isLoading())return a&&a();if(l.isLoaded(c))e.executeAction(d,{url:c},a);else{var f={date:t.date,edition:parseInt(t.edition,10),url:c};e.dispatch("LOAD_DIGEST_START",f),r.auto({digestUrl:r.apply(o,e,f),digest:["digestUrl",function(t,a){u(e,{url:a.digestUrl},t)}]},function(t,u){return t||!u.digest?(e.dispatch("LOAD_DIGEST_FAILURE",t),a&&a(t)):(e.dispatch("LOAD_DIGEST_SUCCESS",u.digest),void(a&&a(null,u.digest)))})}}},546:function(e,t,a){"use strict";var u=a(1),n=100,r="WebkitTransform",d={},i=a(2),s=u.cloneElement;"undefined"!=typeof window&&(d=window.Modernizr||{},d.prefixed&&(r=d.prefixed("transform")));var o=u.createClass({displayName:"Carousel",timer:null,propTypes:{disableControls:u.PropTypes.bool,displayHandler:u.PropTypes.func,hasMask:u.PropTypes.bool,isFullWidthItem:u.PropTypes.bool,isList:u.PropTypes.bool,nextButton:u.PropTypes.element,onCarouselChange:u.PropTypes.func,onClickItem:u.PropTypes.func,paginationDisplay:u.PropTypes.element,prevButton:u.PropTypes.element,startIndex:u.PropTypes.number,useNativeScroll:u.PropTypes.bool},getDefaultProps:function(){return{disableControls:!1,displayHandler:null,hasMask:!0,isFullPageItem:!1,isList:!0,nextButton:null,onCarouselChange:null,onClickItem:null,paginationDisplay:null,prevButton:null,startIndex:0,useNativeScroll:!1}},getInitialState:function(){return{currentIndex:this.props.startIndex||0,hasAnim:this.props.hasAnim||!1,numItems:u.Children.count(this.props.children)||0}},_checkBoundary:function(e,t){var a=this.numItems,u=a-1;return 0===a?0:(0>e?e=t?u:0:a>e||(e=t?0:u),e)},_computeRightMargin:function(e){var t=this.refs.list.offsetWidth,a=this._getItemEnd(this.numItems-1);return Math.max(t-(a-e),0)},_convertTargetToIndex:function(e){var t;return t="next"===e?this.state.currentIndex+1:"prev"===e?this.state.currentIndex-1:parseInt(e,10)||0},_getItemEnd:function(e){var t=this.itemsPosition[e];return t&&t.start+t.width||0},_getItemStart:function(e){var t=this.itemsPosition[e];return t&&t.start||0},_getItemWidth:function(e){var t=this.itemsPosition[e];return t&&t.width||0},_handleClickItem:function(e){var t,a,u,n,r,d=this.props.onClickItem;if(d){for(u=this.refs.list,r=e.nativeEvent.path||[],a=0,n=r.length;n>a;a++)if(r[a]===u){t=r[a-1];break}for(a=0,n=u.childNodes.length;n>a;a++)if(u.childNodes[a]===t)return d({item:t,itemIndex:a});d({item:null,itemIndex:-1})}},_handleGesture:function(e){"swiperight"===e.type?this.jumpTo("prev",!0):"swipeleft"===e.type&&this.jumpTo("next",!0)},_handleWheeling:function(e){var t,a,u=this.wheel;Math.abs(e.deltaY)>Math.abs(e.deltaX)||(e.preventDefault(),u.timeStamp=e.timeStamp,t=e.deltaX,this._wheelIsReleased(u.samples,t)?(u.isHold&&Math.abs(u.delta)>100&&(a=0>u.delta?"prev":"next",this.jumpTo(a,!0)),u.delta=0,u.isHold=!1):(u.delta+=t,u.isHold=!0))},_renderButton:function(e){var t=this.state.currentIndex,a=!1,u=this.props[e+"Button"],n=this.state.numItems;return this.props.disableControls||!u?null:("prev"===e&&0===t?a=!0:"next"===e&&t===n-1&&(a=!0),s(u,{ref:e,className:i(u.props.className,{"Op(0)! Cur(d)!":a}),onClick:this.jumpTo.bind(this,e,!0)}))},_renderDisplay:function(){var e,t=this.state.currentIndex+1,a=this.state.numItems,u=this.props.paginationDisplay;return this.props.disableControls||!u?null:s(u,{children:e||t+" of "+a})},_stopPropagation:function(e){e.stopPropagation()},_translate:function(e,t){var a=d.csstransforms3d?"translate3d("+t+",0,0)":"translateX("+t+")";e.style[r]=a},_updateItemsPosition:function(){var e,t=this.refs.list;this.itemsPosition=[];for(var a=0,u=t.childNodes.length;u>a;a++)e=t.childNodes[a],this.itemsPosition.push({start:e.offsetLeft,width:e.offsetWidth});this.numItems=this.itemsPosition.length},_updateScrollPosition:function(){var e=this.refs.list;if(this.props.useNativeScroll)return void(e.scrollLeft=0);var t,a=this.state.currentIndex;this.props.isFullPageItem?t=-100*a+"%":(t=-this._getItemStart(a),t+="px"),this._translate(e,t)},_wheelIsReleased:function(e,t){e.push(Math.abs(t)),e.shift();for(var a=0,u=e.length;u-1>a;a++)if(e[a+1]>e[a])return!1;return!0},componentWillMount:function(){this.currentIndex=this.props.startIndex,this.itemsPosition=[],this.numItems=0,this.wheel={delta:0,isHold:!1,samples:[0,0,0,0,0],timeStamp:0}},componentDidMount:function(){this._updateItemsPosition(),this._updateScrollPosition()},componentDidUpdate:function(){var e=this.props.onCarouselChange;this._updateScrollPosition(),e&&e({currentIndex:this.state.currentIndex,numItems:this.numItems})},shouldComponentUpdate:function(e,t){return this.state.currentIndex!==t.currentIndex||this.props.startIndex!==e.startIndex||this.props.children!==e.children},jumpTo:function(e,t){var a;a=this._convertTargetToIndex(e),a=this._checkBoundary(a),a!==this.state.currentIndex&&this.setState({currentIndex:a,hasAnim:t})},_handleImagesLoaded:function(){var e=this;this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(function(){e._updateItemsPosition(),e._updateScrollPosition()},n)},render:function(){var e,t=this,a=[],n=this.props.isList,r=n?"ol":"div",d=i(i("carousel",{"Ov(h)":this.props.hasMask}),this.props.className),o={className:d,onWheel:this.props.useNativeScroll?null:this._handleWheeling},c=i("Pos(r) Reset Whs(nw) Z(1) H(100%) carousel-list",{"Trsdu(.3s)":this.state.hasAnim,"Ovs(touch) Ov(s)":this.props.useNativeScroll}),l={className:c,ref:"list",onLoad:this._handleImagesLoaded,onClick:this._handleClickItem};return u.Children.forEach(this.props.children,function(e,r){var d=i("D(ib) Whs(n) carousel-item",{"current-item":t.state.currentIndex===r});n&&"li"!==e.type?(d=i("Va(t)",d,i({"H(100%) W(100%) Ta(c)":t.props.isFullPageItem})),e=s(e,{key:r,className:i(e.props.className,{"Ta(start) Va(m)":t.props.isFullPageItem})}),e=u.createElement("li",{key:r,className:d},u.createElement("span",{className:"shim H(100%) W(0) D(ib) Va(m)"}),e)):e=s(e,{key:r,className:i(d,e.props.className)}),a.push(e)}),e=u.createElement("div",o,u.createElement(r,l,a),this._renderButton("prev"),this._renderButton("next"),this._renderDisplay())}});e.exports=o},547:function(e,t,a){"use strict";var u,n=a(1),r=a(64),d=a(6),i=a(1084),s=a(17),o=a(107),c=a(3),l=a(1008),f=a(21),p=!1;"undefined"!=typeof window&&(u=window.Modernizr||{},p=u.history);var m=n.createClass({displayName:"LoadMore",autobind:!1,mixins:[o],getInitialState:function(){return{collapse:!1}},componentWillMount:function(){this.onEnterViewport=this.constructor.prototype.onEnterViewport.bind(this)},componentDidMount:function(){var e=this;e.onEnterViewport(function(){e.onEnterViewport(null),e.setState({collapse:!0}),e.props.config.enableLoadMore&&p&&e.props.loadMoreContent()})},render:function(){return this.state.collapse?null:n.createElement("div",{className:"load-more W(100%) H(1px)"})}}),h=n.createClass({displayName:"Digest",autobind:!1,mixins:[d],config:{},statics:{storeListeners:[r],componentConfig:{name:"componentDigest"}},contextTypes:{i13n:n.PropTypes.object,session:n.PropTypes.object},childContextTypes:{digestConfig:n.PropTypes.object.isRequired},renderedItems:{},componentWillMount:function(){this.onChange=this.constructor.prototype.onChange.bind(this)},getChildContext:function(){return{digestConfig:this.config}},loadMoreContent:function(){for(var e=this,t=e.state.items||[],a=[],u=0,n=t.length;n>u;u++)t[u].id&&a.push(t[u].id);var r={uuids:a};e.executeAction(l,r)},getInitialState:function(){var e=this;return e.config=this.props.componentConfig,e.store=e.getStore(r),{date:e.store.getDate(),edition:e.store.getEdition(),items:e.store.getItems(),url:e.store.getRelativeURL()}},onChange:function(){var e=this,t={date:e.store.getDate(),edition:e.store.getEdition(),items:e.store.getItems(),url:e.store.getRelativeURL()};e.setState(t)},renderDigestPages:function(e){if(e.length){var t,a=this,u=[];a.renderedItems={};for(var r=0,d=e.length;d>r;r++)c(e,[r,"multiSummary","length"],!1)&&(t=s.parse(e[r].link).path,a.renderedItems[t]=!0,u.push(e[r]));return f(u,function(e,t){var u={margins:{usePercent:!0,top:-.5,bottom:-.5}};return n.createElement("div",{className:0===t?"":"Mt(20px)",key:t},n.createElement(i,{data:e,index:t,context:a.context,viewport:u}))})}},shouldComponentUpdate:function(e,t){if(t.url!==this.state.url&&!this.renderedItems[t.url])return!0;if(this.config.enableLoadMore)for(var a,u=t.items,n=0,r=u.length;r>n;n++)if(a=s.parse(u[n].link).path,!this.renderedItems[a])return!0;return!1},render:function(){var e=this,t=null;return t=e.renderDigestPages(e.state.items||[]),n.createElement("div",{className:"digest_app H(100%)"},n.createElement("div",{className:"Mih(600px)"},t),n.createElement(m,{config:e.config,loadMoreContent:e.loadMoreContent.bind(e),viewport:{margins:{top:400,bottom:400}}}))}});e.exports=h},548:function(e,t,a){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t){for(var a=0;t.length>a;a++){var u=t[a];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(e,u.key,u)}}return function(t,a,u){return a&&e(t.prototype,a),u&&e(t,u),t}}(),i=function(e,t,a){for(var u=!0;u;){var n=e,r=t,d=a;u=!1,null===n&&(n=Function.prototype);var i=Object.getOwnPropertyDescriptor(n,r);if(void 0!==i){if("value"in i)return i.value;var s=i.get;if(void 0===s)return;return s.call(d)}var o=Object.getPrototypeOf(n);if(null===o)return;e=o,t=r,a=d,u=!0,i=o=void 0}},s=a(1),o=u(s),c=a(2),l=u(c),f=a(3),p=u(f),m=a(10),h=u(m),g=a(14),b=u(g),x=function(e){function t(){n(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return r(t,e),d(t,[{key:"shouldComponentUpdate",value:function(e,t){return(0,h.default)(this,e,t)}},{key:"render",value:function(){var e,t=this.props,a=(0,p.default)(t,["image","url"]);return a?(e={"Fl(start) Mend(10px) My(2px)":t.isSmartphone,"Mstart(40px) Fl(end)":"wiki"===t.type&&!t.isSmartphone,"square-thumb Bdrs(100%) Bgp(c) Bgz(cv)":!0},o.default.createElement(b.default,{className:(0,l.default)(e),nodeName:"div",url:a})):null}}]),t}(s.Component);t.default=x,e.exports=t.default},764:function(e,t){function a(e,t,a,u){for(var n=-1,r=e?e.length:0;++n<r;){var d=e[n];t(u,d,a(d),e)}return u}e.exports=a},769:function(e,t,a){function u(e,t,a,u){return n(e,function(e,n,r){t(u,e,a(e),r)}),u}var n=a(221);e.exports=u},794:function(e,t,a){function u(e,t){return function(a,u){var s=i(a)?n:r,o=t?t():{};return s(a,e,d(u,2),o)}}var n=a(764),r=a(769),d=a(31),i=a(32);e.exports=u},832:function(e,t,a){var u=a(794),n=Object.prototype,r=n.hasOwnProperty,d=u(function(e,t,a){r.call(e,a)?e[a].push(t):e[a]=[t]});e.exports=d},1008:function(e,t,a){function u(e,t,a){var u=t.uuids;return u&&i(u)?void e.service.read("digest",{uuids:u.join(",")},{},function(e,t){a(e,t)}):a&&a(d.http.badRequest("Missing UUIDs parameter"))}var n=a(64),r=a(4)("DigestService:loadDigestByUUIDs"),d=a(38),i=a(32);e.exports=function(e,t,a){if(r("Load digest by UUID",t),!e||!t)return a&&a(d.http.badRequest("Missing UUID parameter"));var i={uuids:t.uuids},s=e.getStore(n);return s.isLoading()?a&&a():(e.dispatch("LOAD_DIGEST_START",i),void u(e,{uuids:i.uuids},function(t,u){return t?(e.logger.error("#loadDigestByUUIDs",t.stack||t),e.dispatch("LOAD_DIGEST_FAILURE",t),a&&a(t)):(e.dispatch("LOAD_DIGEST_SUCCESS",u),void(a&&a(null,u)))}))}},1079:function(e,t,a){var u=a(4)("Digest:loadDigestPage"),n=a(3),r=a(67).getMetaData,d=a(309),i=Object.assign,s=a(64);e.exports=function(e,t,a){var o=e.getStore(s),c=e.query||{},l={date:c.date||o.getDate(),edition:parseInt(c.edition||o.getEdition(),10),url:c.url||o.getURL()};u("Load args",l),e.executeAction(d,l,function(t,d){if(t)return a&&a();var s=i(r(d)||{},{context:n(e,["session","dimensions"])});u("Fetch page data",s),e.dispatch("CHANGE_PAGE_DATA",s),a&&a()})}},1080:function(e,t,a){e.exports={controllerViews:{Digest:a(547),DigestCtrl:a(1082)},stores:{DigestStore:a(64)}}},1081:function(e,t,a){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var a=arguments[t];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(e[u]=a[u])}return e},i=function(){function e(e,t){for(var a=0;t.length>a;a++){var u=t[a];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(e,u.key,u)}}return function(t,a,u){return a&&e(t.prototype,a),u&&e(t,u),t}}(),s=function(e,t,a){for(var u=!0;u;){var n=e,r=t,d=a;u=!1,null===n&&(n=Function.prototype);var i=Object.getOwnPropertyDescriptor(n,r);if(void 0!==i){if("value"in i)return i.value;var s=i.get;if(void 0===s)return;return s.call(d)}var o=Object.getPrototypeOf(n);if(null===o)return;e=o,t=r,a=d,u=!0,i=o=void 0}},o=a(1),c=u(o),l=a(2),f=u(l),p=a(21),m=u(p),h=a(10),g=u(h),b=Object.assign,x="atom-wrapper digest-items",v="digest-",y=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return r(t,e),i(t,[{key:"shouldComponentUpdate",value:function(e,t){return(0,g.default)(this,e,t)}},{key:"render",value:function(){var e=this,t=e.props,a={beaconId:t.id,beaconSec:t.beaconSec,color:t.color,colors:t.colors},u=t.data,n=t.component;return u&&u.length?c.default.createElement("section",{id:t.id,className:(0,f.default)(t.className,x)},(0,m.default)(u,function(e,u){var r=b({},e,{className:"atom atom-border atom-margin atom-padding"},a);return c.default.createElement(n,d({},r,{key:[t.id,u].join("-")}))})):t.simple?c.default.createElement("section",{id:t.id,className:(0,f.default)(t.className,x)},c.default.createElement(n,a)):null}}]),t}(o.Component);y.defaultProps={className:"",color:"",colors:{},component:"div",data:null,id:v+Math.floor(899999*Math.random()+1e5),simple:!1},y.propTypes={className:o.PropTypes.string,color:o.PropTypes.string,colors:o.PropTypes.object,data:o.PropTypes.array,id:o.PropTypes.string,simple:o.PropTypes.bool},e.exports=y},1082:function(e,t,a){"use strict";var u,n=a(547),r=a(6),d=a(1079),i=a(1);u=i.createClass({displayName:"DigestCtrl",mixins:[r],statics:{initializeAction:d,componentConfig:{name:"componentDigest"}},render:function(){return i.createElement("div",{className:"Maw(990px) M(a)"},i.createElement(n,this.props))}}),e.exports=u},1083:function(e,t,a){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t){for(var a=0;t.length>a;a++){var u=t[a];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(e,u.key,u)}}return function(t,a,u){return a&&e(t.prototype,a),u&&e(t,u),t}}(),i=function(e,t,a){for(var u=!0;u;){var n=e,r=t,d=a;u=!1,null===n&&(n=Function.prototype);var i=Object.getOwnPropertyDescriptor(n,r);if(void 0!==i){if("value"in i)return i.value;var s=i.get;if(void 0===s)return;return s.call(d)}var o=Object.getPrototypeOf(n);if(null===o)return;e=o,t=r,a=d,u=!0,i=o=void 0}},s=a(1),o=u(s),c=a(67),l=a(2),f=u(l),p=a(10),m=u(p),h=a(14),g=u(h),b="infograph",x=function(e){function t(){n(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return r(t,e),d(t,[{key:"shouldComponentUpdate",value:function(e,t){return(0,m.default)(this,e,t)}},{key:"render",value:function(){var e=this,t=e.props,a=(0,c.getImageByResolution)(t.images,"size=original");return o.default.createElement("div",{className:(0,f.default)(t.className,b)},t.title?o.default.createElement("h2",{className:"atom-title M(0) P(0) Mb(10px)"},t.title):null,t.caption?o.default.createElement("p",{className:"atom-body"},t.caption):null,a&&a.url?o.default.createElement("figure",{className:"atom-image Pos(r) H(0) Bgc(x) M(0) Bgc(x)",style:{paddingBottom:a.ratio+"%"}},o.default.createElement(g.default,{className:"StretchedBox W(100%) H(100%)",alt:t.caption,url:a.url})):null)}}]),t}(s.Component);x.defaultProps={title:null,caption:null,images:null},x.propTypes={title:s.PropTypes.string,caption:s.PropTypes.string,images:s.PropTypes.object},t.default=x,e.exports=t.default},1084:function(e,t,a){"use strict";var u,n=a(1),r={locations:!0,slideshow:!0,tweetKeywords:!0,videos:!0},d=a(1081),i=a(41),s=a(6),o=a(220),c=a(1083),l=a(1085),f=a(1086),p=a(1087),m=a(1089),h=a(1092),g=a(1093),b=a(1094),x=a(1095),v=a(1096),y=a(107),w=a(1097),E=a(2),k=a(3),T=Object.assign,P=a(198),C="digest",N=100,U=!1;"undefined"!=typeof window&&(u=window.Modernizr||{},U=u.history);var S=n.createClass({displayName:"Item",autobind:!1,mixins:[i,s,y],contextTypes:{digestConfig:n.PropTypes.object,i13n:n.PropTypes.object},propTypes:{data:n.PropTypes.object.isRequired,context:n.PropTypes.object.isRequired,index:n.PropTypes.number.isRequired},mountTime:null,navigateTimer:null,componentWillMount:function(){this.onEnterViewport=this.constructor.prototype.onEnterViewport.bind(this),this.onExitViewport=this.constructor.prototype.onExitViewport.bind(this),this.updateProps=this.constructor.prototype.updateProps.bind(this)},getDefaultProps:function(){return{data:{},context:{},index:0}},componentDidMount:function(){var e=this,t=k(e.context,["digestConfig","enableLoadMore"]),a=t&&U;a&&(e.mountTime=Date.now(),e.history=new o,e.enableViewportDetection())},renderByTemplate:function(e,t){var a,u=this,r=u.props.data,i={color:u.color,colors:u.colors,context:u.props.context,device:u.device},s=u.props.index||0,o=[C,s,e].join("-"),l=[C,e].join("-")+(t?" digest-items-border":"");switch(e){case"infographs":i=T(i,{className:l,component:c,data:r[e],id:o,key:o}),a=n.createElement(d,i);break;case"locations":i=T(i,{className:l,component:f,data:r[e],id:o,key:o}),a=n.createElement(d,i);break;case"longreads":i=T(i,{className:l,component:p,data:r[e],id:o,key:o}),a=n.createElement(d,i);break;case"multiSummary":i=T(i,{beaconId:o,className:l,id:o,key:o,link:r.link,summaries:r.multiSummary,title:r.title}),a=n.createElement(m,i);break;case"slideshow":i=T(i,{beaconId:o,className:l,data:r.slideshow,link:r.link,id:o,key:o}),a=n.createElement(h,i);break;case"statDetail":i=T(i,{className:l,component:b,data:r[e],id:o,key:o}),a=n.createElement(d,i);break;case"tweetKeywords":i=T(i,{beaconId:o,className:l,id:o,key:o,uuid:r.uuid,tweets:k(r,["tweets","tweets"],null)}),a=n.createElement(x,i);break;case"wikis":i=T(i,{className:l,component:w,data:r[e],id:o,key:o}),a=n.createElement(d,i);break;case"videos":i=T(i,{className:l,data:r.videos,id:o,key:o}),a=n.createElement(v,i);break;default:return null}return a},renderHeader:function(e){var t=this,a=T({},e.images,{context:t.props.context}),u=k(e,["categories","0","label"],"");return n.createElement("header",{className:"main-header"},n.createElement("div",{className:"category Tt(u) Fw(b) Fz(m)",style:t.colorStyle},u),n.createElement("h1",{className:"title Hy(n) Fw(b) Lh(1.2) My(20px)",itemProp:"headline"},e.title),n.createElement("div",{className:"Hidden",itemProp:"datePublished",content:e.published}),n.createElement(l,a))},renderAtoms:function(e){for(var t,a,u,n=this,d=[],i=0,s=e.length;s>i;i++){var o=e[i];u=!(r[a]||r[o]);var c=n.props.data[o];c&&Object.keys(c).length>0&&(t=n.renderByTemplate(o,u),t&&(a=o),d.push(t))}return d},enableViewportDetection:function(){this.onEnterViewport(this.handleEnterViewport.bind(this)),this.onExitViewport(this.handleExitViewport.bind(this))},handleEnterViewport:function(){var e=this,t=this.history.getUrl(),a=e.props.data.link,u=e.props.data.relativeLink;a.indexOf(document.location.origin===-1)&&(a=document.location.origin+u),("/digest/"===t||u&&u.indexOf(t)===-1)&&(this.navigateTimer=setTimeout(function(){e.executeAction(P,{url:a}),e.history.replaceState({},e.props.data.title,a),e.context.i13n.executeEvent("pageview",{enableComscore:!0,currentUrl:a,spaceid:1197772672})},N))},handleExitViewport:function(){this.navigateTimer&&(clearTimeout(this.navigateTimer),this.navigateTimer=null)},render:function(){var e,t,a,u=this,r=u.props.data,d=u.props.index||0,i=[C,d,"article"].join("-"),s=[C,d,"sources"].join("-");if(!r||!Object.keys(r).length)return null;if(u.updateProps(),a={"single-digest":!0},u.category){var o=u.category.replace(" ","");a[o]=!0}return t=r.order||[],e=u.atomicCSS||{},n.createElement("div",{id:i,className:E(a,"Bgc($c-white-0)",{"Bxsh($shawdow-2dp)":!u.isSmartphone}),"data-uuid":r.uuid},n.createElement("article",{className:"main-container",itemScope:!0,itemType:"https://schema.org/NewsArticle"},n.createElement("meta",{itemScope:!0,itemProp:"mainEntityOfPage",itemType:"https://schema.org/WebPage",itemID:"https://google.com/article"}),u.renderHeader(r),n.createElement("div",{className:E(e["content-body"],e["row-margin"],"Whs(n) Hy(n)")},u.renderAtoms(t)),n.createElement(g,{id:s,data:r.sources,color:u.color})))}});e.exports=S},1085:function(e,t,a){"use strict";var u=a(1),n=a(41),r=a(14),d=a(67).getImageByResolution,i=a(10),s=u.createClass({displayName:"ItemCover",autobind:!1,mixins:[n],propTypes:{caption:u.PropTypes.string},getDefaultProps:function(){return{caption:null}},shouldComponentUpdate:function(e,t){return i(this,e,t)},render:function(){var e=this,t=e.props,a=d(t,"pc:size=extra_large")||d(t,"size=original");if(!a||!a.url)return null;var n={alt:t.caption,className:"StretchedBox H(100%) W(100%)",url:a.url};return u.createElement("figure",{className:"item-cover Pos(r) H(0) Ov(h) Bgc(x)",style:{paddingBottom:a.ratio+"%"},itemProp:"image",itemScope:!0,itemType:"https://schema.org/ImageObject"},u.createElement("meta",{itemProp:"url",content:n.url}),u.createElement("meta",{itemProp:"width",content:a.width}),u.createElement("meta",{itemProp:"height",content:a.height}),u.createElement(r,n))}});e.exports=s},1086:function(e,t,a){"use strict";var u,n=a(1),r=a(11),d=a(2),i=a(10),s=a(41),o=a(172),c=300,l=.75,f="location";"undefined"!=typeof window&&(u=window);var p=n.createClass({displayName:"Location",autobind:!1,mixins:[s,o],propTypes:{latitude:n.PropTypes.oneOfType([n.PropTypes.string,n.PropTypes.number]),longitude:n.PropTypes.oneOfType([n.PropTypes.string,n.PropTypes.number]),zoomLevel:n.PropTypes.oneOfType([n.PropTypes.string,n.PropTypes.number]),type:n.PropTypes.string,caption:n.PropTypes.string,name:n.PropTypes.string},getDefaultProps:function(){return{latitude:null,longitude:null,zoomLevel:null,type:null,caption:null,name:null}},handleOrientation:function(){var e=this;setTimeout(function(){e.setupMap()},150)},componentDidUpdate:function(){var e=this;e.setupMap()},setupMap:function(){if(!window.YMaps)return null;var e=this;e.map&&e.clearMap();var t=e.props,a=r.findDOMNode(e),u=a.clientWidth,n=window.YMaps,d=new n.GeoPoint((+t.latitude),(+t.longitude));e.containerHeight=u*l||c,e.map=new n.Map(a.querySelector(".map-canvas"),{center:d,zoom:+t.zoomLevel,height:e.containerHeight||c,width:u},{copyright:!1,enableMouse:!1,fps:!1,preloadTiles:!1,scale:!1}),e.map.draw(new n.Marker({geo:d}))},clearMap:function(){this.map&&this.map.destroy()},componentWillMount:function(){this.loadScript=this.constructor.prototype.loadScript.bind(this)},componentWillUnmount:function(){var e=this;e.clearMap(),u.removeEventListener("orientationchange",e.handleOrientation.bind(e))},componentDidMount:function(){var e=this;e.loadScript({link:"https://s.yimg.com/st/ymaps-ajax-v5/5.0.12/ymaps.min.js",namespace:"YMaps"},function(){e.setupMap(),u.addEventListener("orientationchange",e.handleOrientation.bind(e))})},shouldComponentUpdate:function(e,t){return i(this,e,t)},render:function(){var e=this,t=e.props,a={paddingBottom:100*l+"%"};return n.createElement("div",{className:d(t.className,f,"Pos(r) Ov(h) P(0) Bdw(0) Bgc(x)"),style:a},n.createElement("div",{className:"map-canvas StretchedBox W(100%) H(100%)","data-latitude":t.latitude,"data-longitude":t.longitude,"data-zoom":t.zoomLevel}),n.createElement("div",{className:"Pos(a) B(0) Start(0) End(0) Bgc(#fff.8) P(20px) C($c-black-1) Fz(s) Lh(1.3)"},t.caption))}});e.exports=p},1087:function(e,t,a){"use strict";var u=a(1),n=a(2),r=a(41),d=a(7).FormattedMessage,i=a(67).getImageByResolution,s=a(5).I13nAnchor,o=a(548),c=a(5).createI13nNode,l=a(10),f="longread",p="pc:size=square_large",m="size=original",h=u.createClass({displayName:"Longread",autobind:!1,mixins:[r],propTypes:{color:u.PropTypes.string,description:u.PropTypes.string,images:u.PropTypes.object,publisher:u.PropTypes.string,title:u.PropTypes.string,url:u.PropTypes.string},getDefaultProps:function(){return{title:null,images:null,publisher:null,description:null,url:null}},renderSmartphoneTemplate:function(e){var t=this,a=i(e.images,p)||i(e.images,m),r={elm:"hdln",elmt:"ct",ict:"0"};return u.createElement("div",{className:n(e.className,f,"Ov(h)")},u.createElement("h3",{className:"atom-title M(0) P(0) Mb(10px) Fw(b)"},u.createElement(d,{id:"TOPIC_IN_DEPTH"})),u.createElement("div",{className:"Cf"},u.createElement(o,{image:a,type:"longread",isSmartphone:t.isSmartphone}),u.createElement("h2",{className:"Fw(n) Mb(2px) Lh(1.2) M(0) P(0) Fz(m)"},u.createElement(s,{href:e.url,className:"Mend(4px) C($c-black-0) Td(n)",style:{color:t.props.color},i13nModel:r},e.title)),u.createElement("div",{className:"Fz(xs) Lh(1.1) D(ib) Ov(h)"},u.createElement("cite",{className:"Fs(n) Whs(n)w Mend(6px) C($c-black-2)"},e.publisher))),u.createElement("span",{className:"atom-body D(b) Mt(6px)"},e.description))},renderTemplate:function(e){var t=this,a=i(e.images,p)||i(e.images,m),r={elm:"hdln",elmt:"ct",ict:"0"};return u.createElement("div",{className:n(e.className,f,"Ov(h)")},u.createElement("div",{className:"Fl(start) Mend(20px)"},u.createElement(o,{image:a,isSmartphone:t.isSmartphone})),u.createElement("div",null,u.createElement("h3",{className:"M(0) P(0) Mb(10px) Fw(n)"},u.createElement(d,{id:"TOPIC_IN_DEPTH"})),u.createElement("h2",{className:"atom-title Fw(n) Mb(2px) Lh(1.2) M(0) P(0) Ov(h)"},u.createElement(s,{href:e.url,className:"Mend(4px) C($c-black-0)",style:{color:t.props.color},i13nModel:r},e.title)),u.createElement("span",{className:"atom-body D(b) Mt(6px)"},e.description),u.createElement("div",{className:"C($c-black-3) Fz(s) Lh(1.1) D(ib) Ov(h) Mt(16px)"},u.createElement("cite",{className:"Fs(n) Whs(n)"},e.publisher))))},shouldComponentUpdate:function(e,t){return l(this,e,t)},render:function(){var e=this,t=e.props;return e.isSmartphone?e.renderSmartphoneTemplate(t):e.renderTemplate(t)}});e.exports=c(h,{i13nModel:{rspn:"nav",t1:"a3",t2:"dig-dpth",sec:"dig-dpth"}})},1088:function(e,t,a){"use strict";var u=a(1),n=a(41),r=a(1098),d=u.createClass({displayName:"Modal",autobind:!1,mixins:[n,r],getInitialState:function(){return{isModalShown:!1}},handleOverLayClick:function(e){var t=this;e.preventDefault(),e.stopPropagation(),t.hide()},handleTouchMove:function(e){e.preventDefault(),e.stopPropagation()},show:function(){var e=this;e.setState({isModalShown:!0},function(){e.props.onShow&&e.props.onShow(),e.fadeIn()})},hide:function(){var e=this;e.props.onHide&&e.props.onHide(),e.fadeOut(function(){e.setState({isModalShown:!1})})},toggle:function(){var e=this;e.state.isModalShown?e.hide():e.show()},render:function(){var e=this;return this.state.isModalShown?u.createElement("div",{className:"js-modal Pos(f) T(0) B(0) Start(0) End(0) Z(3) Ta(c) Bgc($c-black-2)",onClick:e.handleOverLayClick.bind(e),onTouchMove:e.handleTouchMove.bind(e)},e.props.children):null}});e.exports=d},1089:function(e,t,a){"use strict";var u=a(1),n=a(41),r=a(7).FormattedMessage,d=a(8).Icon,i=a(1090),s=a(1091),o=a(5).createI13nNode,c=a(10),l=u.createClass({displayName:"MultiSummary",autobind:!1,mixins:[n],propTypes:{color:u.PropTypes.string,id:u.PropTypes.string.isRequired,link:u.PropTypes.string,summaries:u.PropTypes.array,title:u.PropTypes.string},getDefaultProps:function(){return{link:"",summaries:[],title:""}},shouldComponentUpdate:function(e,t){return c(this,e,t)},render:function(){var e=this,t=e.props.title,a=e.props.link,n=e.props.summaries;if(!n||!n.length)return null;for(var o=[],c=0,l=n.length;l>c;c++){var f=n[c],p=f.quote?u.createElement("blockquote",{key:"quote-"+c,className:"quote My(20px)",style:{color:e.props.color}},u.createElement("p",{className:"Fz(l) Lh(1.3) M(0)"},f.quote.text),u.createElement("cite",{className:"Fz(xs) Fs(n) D(ib) Mt(6px) C($c-black-2)"},f.quote.source)):null;o.push(u.createElement("p",{key:"text-"+c,className:"text atom-body Mt(0)"},f.text)),p&&o.push(p)}var m="desktop"===e.device?s:i;return u.createElement("section",{id:e.props.id,className:"digest-item MultiSummary",itemProp:"articleBody"},o,u.createElement("div",{className:"Cf Mt(10px) Mb(30px)"},u.createElement("div",{className:"Fl(start) Lh(30px)",itemProp:"publisher",itemScope:!0,itemType:"https://schema.org/Organization"
},u.createElement("span",{className:"C($c-black-2) Va(m)"},u.createElement(r,{id:"SUMMARIZED_BY"})),u.createElement("div",{className:"D(ib)"},u.createElement(d,{name:"LogoYahoo",color:"#400090",height:30,width:80})),u.createElement("span",{className:"Hidden"},u.createElement(r,{id:"YAHOO_NEWS_DIGEST",itemProp:"name"}))),u.createElement("div",{className:"Fl(end) Lh(30px) P(2px)"},u.createElement(m,{url:a,title:t,color:e.props.color,description:n[0].text}))))}});e.exports=o(l,{i13nModel:{elm:"itm",elmt:"embed",itc:"0",rspn:"nav",t1:"a3",t2:"dig-sum",sec:"dig-sum"}})},1090:function(e,t,a){"use strict";var u=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var a=arguments[t];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(e[u]=a[u])}return e},n=a(1),r="bounceInUp",d="bounceOutDown",i=a(41),s=a(8).Icon,o=a(1088),c=a(499),l=a(2),f=a(3),p=a(21),m=a(10),h=a(227),g=n.createClass({displayName:"Share",mixins:[i],contextTypes:{digestConfig:n.PropTypes.object},propTypes:{url:n.PropTypes.string.isRequired,title:n.PropTypes.string},getDefaultProps:function(){return{url:"",title:""}},getInitialState:function(){return{transitionClass:r}},handleShareBtnClick:function(){this.refs.shareModal.show()},handleShareIconClick:function(e){e.stopPropagation()},onShow:function(){document.documentElement.setAttribute("style","overflow:hidden"),this.setState({transitionClass:r})},onHide:function(){document.documentElement.setAttribute("style","overflow:auto"),this.setState({transitionClass:d})},shouldComponentUpdate:function(e,t){return m(this,e,t)},render:function(){var e=this,t=[],a={title:e.props.title,url:e.props.url},r=f(e.context,["digestConfig","share"],[]);return t=p(r,function(t,r){var d,i,o={"animated Bdrs(100%) D(ib) Va(m) share-icon Bxsh($shawdow-4dp)":!0},f={"Pos(r) C($c-white-0) Td(n)":!0},p=l({"D(n)":!0}),m=p;t.delay&&(o[t.delay]=!0),o[e.state.transitionClass]=!0,o[t.backgroundClass]=!0,d=l(o),i=l(f);var g=h(a,{$merge:{buttonClassName:d,iconClassName:i,textClassName:p,tooltipContainerClassName:m}});t.buttonConfig&&(g=h(g,{$merge:t.buttonConfig})),g.iconRenderer=function(){return n.createElement(s,u({className:g.shareItemClassesSet,name:t.icon,width:30,height:60,color:"#fff"},g))};var b=c[t.shareType];return n.createElement(b,u({},g,{key:r}))}),n.createElement("span",{className:"js-share Pos(r) Cur(p)",style:{color:e.props.color},onClick:e.handleShareBtnClick},n.createElement("div",{className:"Bdrs($orbRadius) W(50px) H(50px) Ta(c) Lh(50px) Cur(p) Op(0.8)",style:{background:"linear-gradient(135deg,"+e.props.color+" 0% ,#6d00f6 150%)"}},n.createElement(s,{name:"share",className:"H(90%)",color:"#fff",height:30,width:24,style:{verticalAlign:"top"}})),n.createElement(o,{ref:"shareModal",onShow:e.onShow,onHide:e.onHide},n.createElement("div",{className:"Pos(r) share-container C($c-white-0) Va(m) D(ib)"},t),n.createElement("div",{className:"center-shim H(100%) W(0) Va(m) D(ib)"})))}});e.exports=g},1091:function(e,t,a){"use strict";var u=a(1),n=a(41),r=a(59),d=r.ShareButtonsConfig,i=r.ShareButtonGroup,s=a(3),o=a(10),c=u.createClass({displayName:"ShareButtons",autobind:!1,mixins:[n],contextTypes:{digestConfig:u.PropTypes.object},propTypes:{url:u.PropTypes.string.isRequired,title:u.PropTypes.string},getDefaultProps:function(){return{url:"",title:""}},shouldComponentUpdate:function(e,t){return o(this,e,t)},render:function(){var e=this,t=s(e.context,["digestConfig","buttonData"],[]);return u.createElement(i,{buttonData:t,buttonShape:d.shape.ROUND,buttonSize:d.size.LARGE,buttonSpacingPixels:10,maxSquareWidth:40,metaData:{title:e.props.title,link:e.props.url,description:e.props.description},sharingConfig:{device:"desktop"},showShareInfoOnHover:!1,touchDevice:!0,showCopyButton:"horizontal",useButtonColorForBackground:!1})}});e.exports=c},1092:function(e,t,a){"use strict";var u=a(1),n=a(546),r=a(41),d=a(5).I13nButton,i=a(8).Icon,s=a(14),o=a(2),c=a(5).createI13nNode,l=a(3),f=a(67).getImageByResolution,p=a(7).injectIntl,m=a(21),h=a(10),g=u.createClass({displayName:"Slideshow",autobind:!1,mixins:[r],propTypes:{data:u.PropTypes.object},getInitialState:function(){return this.formatMessage=l(this.props,["intl","formatMessage"]),{}},contextTypes:{digestConfig:u.PropTypes.object},getImage:function(e){return f(e.images,"pc:size=large")||f(e.images,"size=original")},renderImages:function(e){var t=this,a=e.photos||[],n=m(a,function(e){var a=t.getImage(e);return u.createElement("li",{key:a.url,className:"carousel-item Va(t)"},u.createElement(s,{className:"slideshow-image Mend(4px)",url:a.url,alt:e.caption}))});return n},shouldComponentUpdate:function(e,t){return h(this,e,t)},render:function(){var e,t="desktop"!==this.device,a="Z(1) Pos(a) T(150px) Bgc($c-white-0) Op(0.5) Op(1):h P(10px) Bdw(0)";return this.props.data&&this.props.data.photos?(e={className:"atom atom-margin Pos(r) Pstart(130px) Pstart(0)--md Pstart(0)--sm",disableControls:t,useNativeScroll:t,prevButton:u.createElement(d,{title:this.formatMessage({id:"PREVIOUS"}),className:o(a,"Start(0) rapid-nonanchor-lt")},u.createElement(i,{name:"caret-left",width:20,height:20})),nextButton:u.createElement(d,{title:this.formatMessage({id:"NEXT"}),className:o(a,"End(0) rapid-nonanchor-lt")},u.createElement(i,{name:"caret-right",width:20,height:20}))},u.createElement("section",{id:this.props.id,className:o(this.props.className,"digest-items Mstart(-130px) Mstart(0)--md Mstart(0)--sm")},u.createElement(n,e,this.renderImages(this.props.data)))):null}});e.exports=p(c(g,{i13nModel:{t1:"a3",t2:"dig-sshow",sec:"dig-sshow"}}))},1093:function(e,t,a){"use strict";function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r,d=function(){function e(e,t){for(var a=0;t.length>a;a++){var u=t[a];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(e,u.key,u)}}return function(t,a,u){return a&&e(t.prototype,a),u&&e(t,u),t}}(),i=function(e,t,a){for(var u=!0;u;){var n=e,r=t,d=a;u=!1,null===n&&(n=Function.prototype);var i=Object.getOwnPropertyDescriptor(n,r);if(void 0!==i){if("value"in i)return i.value;var s=i.get;if(void 0===s)return;return s.call(d)}var o=Object.getPrototypeOf(n);if(null===o)return;e=o,t=r,a=d,u=!0,i=o=void 0}},s=a(1),o=a(41),c=a(7).FormattedMessage,l=a(5).I13nAnchor,f=a(8).Icon,p=a(2),m=a(5).createI13nNode,h=a(3),g=a(832),b=a(21),x=a(10);r=s.createClass({displayName:"Publisher",autobind:!1,mixins:[o],shouldComponentUpdate:function(e,t){return x(this,e,t)},render:function(){var e=this,t=[];return e.props.sources&&e.props.sources.length?(t=b(e.props.sources,function(t,a){return s.createElement("li",{className:"sourceItem Mb(6px) Va(t)",key:a,style:{color:e.props.color}},s.createElement(l,{className:"Fw(300) BdB C($c-black-0) Td(n)",href:t.url,i13nModel:{elm:"hdln",elmt:"ct",itc:"0",cpos:a+1}},t.title))}),s.createElement("li",{className:"PublisherItem Mb(20px)",key:e.props.key},s.createElement("div",{className:"Fw(400) BdB Pb(6px) Mb(6px)"},e.props.publisher),s.createElement("ul",{className:"List(d) M(0) P(0) Fz(s) Pstart(20px)",style:{color:e.props.color}},t))):null}});var v=s.createClass({displayName:"SourceSmartphone",mixins:[o],groupByPublisher:function(e){return g(e,function(e){return e.publisher})},shouldComponentUpdate:function(e,t){return x(this,e,t)},render:function(){var e=this,t=e.props.data,a={},u=[];if(!t||!t.length)return null;a=e.groupByPublisher(t);var n=Object.keys(a);return u=b(n,function(t,u){var n={key:t+"-"+u,publisher:t,sources:a[t],color:e.props.color};return s.createElement(r,n)}),s.createElement("footer",{id:e.props.id,className:"extra-readings Mt(20px)"},s.createElement("div",{className:"source-title BdT"},s.createElement("h3",{className:"M(0) Px(8px) Pos(r) Py(6px) Fz(m) BdB Fw(200)"},s.createElement(f,{className:"Pend(4px)",name:"nav-news",color:e.props.color,s:!0,tyle:{verticalAlign:"middle"},width:20,height:20}),s.createElement(c,{id:"REFERENCES",values:{number:t.sources&&t.sources.length||0}}))),s.createElement("section",{className:"digest-items row-padding sources Bgc($bg-content)"},s.createElement("ul",{className:"Fz(s) M(0) P(0) Py(20px)"},u)))}});v=m(v,{i13nModel:{rspns:"nav",t1:"a3",t2:"dig-ref",itc:"0",sca:"8",sec:"dig-ref"}});var y=s.createClass({displayName:"SourceTablet",mixins:[o],shouldComponentUpdate:function(e,t){return x(this,e,t)},render:function(){var e,t,a=this,u=a.props.data,n={backgroundColor:a.props.color};return u&&0!==u.length?(e=u.length,t=p({"W(1/3)":1!==e&&e/4!==1&&e/4!==2,"W(1/2)":1!==e&&(e/4===1||e/4===2),"W(1/1)":1===e,"sourceItem D(ib) Va(t)":!0}),s.createElement("footer",{id:a.props.id,onClick:this.handleClick,className:"extra-readings row-padding Py(30px) Mt(40px)",style:n},s.createElement("div",{className:"source-title Cf Cur(p)"},s.createElement("h3",{className:"M(0) Py(20px) Fz(l) C($c-white-0) Px(10px) Fw(n) Fl(start)"},s.createElement(c,{id:"REFERENCES",values:{number:u&&u.length||0}}))),s.createElement("section",{className:"sources"},s.createElement("ul",{className:"Fz(s) M(0) P(0)"},b(u,function(e,u){return s.createElement("li",{className:t,key:u,style:{color:a.props.color}},s.createElement("div",{className:"Mx(10px) BdT Bdc($c-white-2) Py(20px)"},s.createElement(l,{itemProp:"isBasedOnUrl",className:"Td(n) C($c-white-0)",href:e.url,i13nModel:{elm:"hdln",elmt:"ct",itc:"0",cpos:u+1}},e.title),s.createElement("span",{className:"C($c-white-2) D(b) Pt(10px) Fz(xs) Fw(300)"},e.publisher)))}))))):null}});y=m(y,{i13nModel:{rspns:"nav",t1:"a3",t2:"dig-ref",itc:"0",sec:"dig-ref"}});var w=function(e){function t(){u(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return n(t,e),d(t,[{key:"shouldComponentUpdate",value:function(e,t){return x(this,e,t)}},{key:"render",value:function(){var e=this,t=h(e.context,["session","dimensions","device"]),a={data:e.props.data,color:e.props.color,id:e.props.id};return"smartphone"===t?s.createElement(v,a):s.createElement(y,a)}}]),t}(s.Component);w.contextTypes={session:s.PropTypes.object},e.exports=w},1094:function(e,t,a){"use strict";var u=a(1),n=a(41),r=a(2),d=a(10),i="stat-detail",s=u.createClass({displayName:"StatDetail",autobind:!1,mixins:[n],getDefaultProps:function(){return{layout:null,title:{text:null,color:null},value:{text:null,color:null},units:{text:null,color:null},description:{text:null,color:null},tragedy:{enabled:null,color:null}}},shouldComponentUpdate:function(e,t){return d(this,e,t)},render:function(){var e=this,t=e.props,a=t.tragedy,n=a&&a.enabled?{color:a.color}:{color:e.props.color};return e.isSmartphone?u.createElement("div",{className:r(t.className,i,e.device,"Ta(c)")},t.title.text?u.createElement("h2",{className:"atom-title M(0) P(0) Mb(10) Lh(1.2)",style:n},t.title.text):null,t.value.text?u.createElement("p",{className:"Fz(80px) Fw(100) M(0) Lh(1.1)"},t.value.text):null,t.units.text?u.createElement("p",{className:"Tt(u) Fz(s) Fw(300) M(0)"},t.units.text):null,t.description.text?u.createElement("p",{className:"M(0) My(10px) Fz(s) Lh(1.3) Fw(300) C($c-black-1)"},t.description.text):null):u.createElement("div",{className:r(t.className,i,"Cf Ta(c)")},u.createElement("div",{style:n},t.value.text?u.createElement("p",{className:"Fw(100) M(0) Lh(1.1) Fz(150px)"},t.value.text):null,t.units.text?u.createElement("p",{className:"Tt(u) Fz(m) Fw(n) M(0)"},t.units.text):null),u.createElement("div",null,t.title.text?u.createElement("h2",{className:"atom-title M(0) Mt(10px) Pb(10px) Lh(1.2)"},t.title.text):null,t.description.text?u.createElement("p",{className:"M(0) My(10px) atom-body Lh(1.3) C($c-black-1)"},t.description.text):null))}});e.exports=s},1095:function(e,t,a){"use strict";var u=a(1),n=a(489),r=a(5).createI13nNode,d=a(10),i=a(546),s=a(41),o=a(7).FormattedMessage,c=a(7).FormattedRelative,l=a(5).I13nButton,f=a(5).I13nAnchor,p=a(5).I13nDiv,m=r("p",{}),h=a(8).Icon,g="https://twitter.com",b=a(2),x=a(3),v=a(7).injectIntl,y=a(21),w=a(1258),E=a(1259),k=u.createClass({displayName:"TweetKeywords",autobind:!1,mixins:[s],propTypes:{id:u.PropTypes.string.isRequired,tweets:u.PropTypes.array},getInitialState:function(){return this.formatMessage=x(this.props,["intl","formatMessage"]),{}},generateBeaconData:function(e,t,a){return{elm:"itm",elmt:e,cid:t,cpos:a}},transformTweets:function(e,t){var a=this,r=e.user,d=e.entities,i={createdAt:e.created_at,entities:d,id:e.id,idx:t,screenName:"",text:e.text,userName:r.name,ylk:null};i.ylk=a.generateBeaconData("usr",i.id,i.idx);var s=b({"C($c-fuji-twitter)":!0,"Mstart(4px) Fz(xs)":a.isSmartphone,"Fz(s)":!a.isSmartphone});i.screenName=E.autoLink("@"+r.screen_name,{targetBlank:!0,usernameClass:s});var o="Td(n) C($c-fuji-twitter)";return d&&(i.text=E.autoLink(i.text,{cashtagClass:o,hashtagClass:o,listClass:o,targetBlank:!0,urlClass:o,urlEntities:d,usernameClass:o})),i.text=i.text.replace(/@/g,n.renderToStaticMarkup(u.createElement("span",{className:"C($c-fuji-twitter)"},"@"))),i.text=w.parse(i.text,{callback:function(e){return"https://twemoji.maxcdn.com/36x36/"+e+".png"}}),i},renderTweetAction:function(e){var t,a=this,n=g+"/intent/tweet?in_reply_to="+e.id,r=g+"/intent/retweet?tweet_id="+e.id,d=g+"/intent/favorite?tweet_id="+e.id,i=a.generateBeaconData("rpl",e.id,e.idx),s=a.generateBeaconData("rt",e.id,e.idx),l=a.generateBeaconData("fav",e.id,e.idx);try{t=u.createElement(c,{value:e.createdAt})}catch(p){t=""}return u.createElement("div",{className:"Mt(10px) W(100%) Cf"},u.createElement("div",{className:"Fl(start) C($c-black-3) Fz(s) Fw(200) Lh(2.0) Pt(6px)",dateTime:e.createdAt},t),u.createElement("div",{className:"Fl(end) Tweet-Actions"},u.createElement(f,{href:n,target:"_blank",className:"Td(n) Va(t) Fz(xl) Pend(10px)",i13nModel:i},u.createElement(h,{name:"TwitterReply",className:"Op(0.66)",width:30,height:30,color:"#55acee"}),u.createElement("b",{className:"Hidden"},u.createElement(o,{id:"REPLY"}))),u.createElement(f,{href:r,target:"_blank",className:"Td(n) Fz(xl) Pend(10px) Va(t)",i13nModel:s},u.createElement(h,{name:"TwitterRetweet",className:"Op(0.66)",width:30,height:30,color:"#55acee"}),u.createElement("b",{className:"Hidden"},u.createElement(o,{id:"RETWEET"}))),u.createElement(f,{href:d,target:"_blank",className:"Td(n) Va(t) Fz(xl)",i13nModel:l},u.createElement(h,{name:"TwitterStar",className:"Op(0.66)",width:30,height:30,color:"#55acee"}),u.createElement("b",{className:"Hidden"},u.createElement(o,{id:"FAVORITE"})))))},renderTweetUser:function(e){return u.createElement("div",{className:"hd Pos(r)"},u.createElement(h,{name:"LogoTwitter",className:"Pos(a) T(0) Start(0)",width:20,height:20}),u.createElement("div",{className:"Fz(m) Fw(b) Pstart(26px)",rel:"author"},e.userName),u.createElement(p,{className:"C($c-fuji-twitter)",dangerouslySetInnerHTML:{__html:e.screenName},scanLinks:{enable:!0},i13nModel:e.ylk}))},renderTweetContent:function(e){return u.createElement(m,{className:"twitter-body Whs(n) My(16px) Fz(s) H(100px)","data-id":e.id,dangerouslySetInnerHTML:{__html:e.text},scanLinks:{enable:!0},i13nModel:e.ylk})},renderTweetItems:function(e){var t=this;if(!e||!e.length)return null;var a=[];return a=y(e,function(a,n){return a=t.transformTweets(e[n],n),u.createElement("li",{key:n,className:"atom-tweet-wrapper Va(t)"},u.createElement("div",{className:"atom-tweet Bgc(#e5f5ff) P(20px)"},t.renderTweetUser(a),t.renderTweetContent(a),t.renderTweetAction(a)))})},shouldComponentUpdate:function(e,t){return d(this,e,t)},render:function(){var e,t=this,a="desktop"!==t.device,n=t.props.tweets;return n&&n.length?(e={className:"atom atom-margin",disableControls:a,useNativeScroll:a,prevButton:u.createElement(l,{title:t.formatMessage({id:"PREVIOUS"}),className:"carousel-button P(10px) Bdw(0) Mend(6px) D(ib) rapid-nonanchor-lt"},u.createElement(h,{name:"caret-left",width:20,height:20,color:"#fff"})),nextButton:u.createElement(l,{title:t.formatMessage({id:"NEXT"}),className:"carousel-button P(10px) Bdw(0) Mend(10px) D(ib) rapid-nonanchor-lt"},u.createElement(h,{name:"caret-right",width:20,height:20,color:"#fff"}))},u.createElement("section",{id:t.props.id,className:b(t.props.className,"digest-items")},u.createElement(i,e,t.renderTweetItems(n)))):null}});e.exports=v(r(k,{i13nModel:{rspn:"nav",t1:"a3",t2:"dig-tw",itc:"0",sca:"8",sec:"dig-tw"}}))},1096:function(e,t,a){"use strict";var u=a(1),n=a(41),r=a(289),d=a(2),i=a(3),s=a(21),o=a(22),c=a(10),l=u.createClass({displayName:"Videos",autobind:!1,mixins:[n],propTypes:{color:u.PropTypes.string,data:u.PropTypes.array},contextTypes:{session:u.PropTypes.object},renderVideoItem:function(e,t){var a=this,n="desktop"===a.device,s={"Bxz(bb)":!0,atom:!0,"atom-margin":!0},c=i(a.context,["session","dimensions","region"],"US"),l={playlist:{mediaItems:[{id:e.uuid}]},pageSpaceId:"1197772672",comscoreC4:c+" fp",region:c,autoplay:!1,startscreen:{showButton:!n,showTitle:!n,showDescription:!n,showProvider:!n},showFujiUI:!0},f={className:"D(b) Zoom Pb(56.25%) Ov(h)",yvpConfig:l,width:"100%",height:"100%"};return s=d(o(s,t||{})),u.createElement("div",{className:s,key:e.uuid,"data-uuid":e.uuid},u.createElement(r,f))},shouldComponentUpdate:function(e,t){return c(this,e,t)},render:function(){var e,t,a,n=this,r=n.props.data,i=[];return r&&0!==r.length?(a=r.slice(0),e=r.length%2===1,!n.isSmartphone&&e&&(t=r.slice(0,1),a=r.slice(1),i=i.concat(n.renderVideoItem(t[0],{Row:!0}))),i=i.concat(s(a,function(e,t){var a={};return n.isSmartphone||(a={"D(ib) W(50%) Mt(20px)":!0,"Pstart(10px)":t%2===1,"Pend(10px)":t%2===0}),n.renderVideoItem(e,a)})),u.createElement("section",{className:d(n.props.className,"digest-items")},i)):null}});e.exports=l},1097:function(e,t,a){"use strict";var u=a(1),n=a(41),r=a(6),d=a(7).FormattedMessage,i=a(8).Icon,s=a(548),o=a(2),c=a(3),l=a(67).getImageByResolution,f=a(10),p="pc:size=square_large",m="pc:size=square",h="wiki",g=a(5).createI13nNode,b=a(5).I13nAnchor,x=u.createClass({displayName:"Wikis",autobind:!1,mixins:[r,n],propTypes:{color:u.PropTypes.string,id:u.PropTypes.string,image:u.PropTypes.object,searchTerms:u.PropTypes.array,text:u.PropTypes.string,title:u.PropTypes.string,url:u.PropTypes.string},contextTypes:{digestConfig:u.PropTypes.object,session:u.PropTypes.object},getDefaultProps:function(){return{id:null,text:null,title:null,searchTerms:null,url:null,image:null}},shouldComponentUpdate:function(e,t){return f(this,e,t)},render:function(){var e=this,t=e.props,a={borderColor:e.props.color},n=o({BdT:e.isSmartphone,"Mt(10px) Pt(10px)":!0}),r=o({"Ov(h) Lh(1.3) D(tbc) Va(m)":!0,"Mt(10px) Fz(m)":!e.isSmartphone}),f=c(e.context,["digestConfig","wiki"],{}),g=""+f.searchUrl+("?p="+(t.searchTerms&&t.searchTerms[0]||"")),x=l(t.images,p)||l(t.images,m),v={elm:"itm",elmt:"wiki",itc:"0"},y={elm:"itm",elmt:"srch",itc:"0"};return u.createElement("div",{className:o(t.className,h,"Ov(h)")},u.createElement("h2",{className:"M(0) P(0) Mb(10px) atom-title Lh(1.4)"},u.createElement(b,{href:g,className:"C($c-black-0) Td(n) D(ib)",target:"_blank",i13nModel:v},t.title)),u.createElement("span",{className:"atom-body D(ib)"},u.createElement(s,{image:x,type:"wiki",isSmartphone:e.isSmartphone}),t.text),u.createElement("div",{className:n,style:{color:e.props.color}},u.createElement(b,{style:{color:e.props.color},className:"C($c-black-0) Td(n) D(tb)",href:g,i13nModel:y},u.createElement("div",{className:"Bdrs(100%) Bd Mend(8px) Fl(start) Ta(c) D(ib) W(30px) D(tbc) Va(m)",style:a},u.createElement(i,{name:"search",width:20,height:30,color:e.props.color})),u.createElement("div",{className:r},u.createElement(d,{id:"LEARN_MORE",values:{topic:t.title}})))))}});e.exports=g(x,{i13nModel:{rspn:"nav",t1:"a3",t2:"dig-wiki",sec:"dig-wiki"}})},1098:function(e,t,a){var u,n,r,d,i=a(11),s=a(950);"undefined"!=typeof window&&(n=window,r=n.Modernizr||{},d=r.prefixed("requestAnimationFrame",n)),u={fadeIn:function(){var e=this,t=i.findDOMNode(e);d(function(){t.classList.remove("Op(0)")})},fadeOut:function(e){var t=this,a=i.findDOMNode(t);a.classList.add("Op(0)"),s.addEndEventListener(a,function(){e()})},componentDidUpdate:function(){var e=this,t=i.findDOMNode(e);t&&(t.classList.add("Trsdu(.3s)"),t.classList.add("Op(0)"))}},e.exports=u},1258:function(e,t){(function(t){var a=t.location||{},u=function(){"use strict";function e(e){return document.createTextNode(e)}function t(e){return e.replace(y,i)}function a(e,t){return"".concat(t.base,t.size,"/",e,t.ext)}function u(e,t){for(var a,n,r=e.childNodes,d=r.length;d--;)a=r[d],n=a.nodeType,3===n?t.push(a):1!==n||w.test(a.nodeName)||u(a,t);return t}function n(e){return m(e.indexOf(v)<0?e.replace(x,""):e)}function r(t,a){for(var r,d,i,s,o,c,l,f,p,m,h,g,x,v=u(t,[]),y=v.length;y--;){for(i=!1,s=document.createDocumentFragment(),o=v[y],c=o.nodeValue,f=0;l=b.exec(c);){if(p=l.index,p!==f&&s.appendChild(e(c.slice(f,p))),h=l[0],g=n(h),f=p+h.length,x=a.callback(g,a)){m=new Image,m.onerror=a.onerror,m.setAttribute("draggable","false"),r=a.attributes(h,g);for(d in r)r.hasOwnProperty(d)&&0!==d.indexOf("on")&&!m.hasAttribute(d)&&m.setAttribute(d,r[d]);m.className=a.className,m.alt=h,m.src=x,i=!0,s.appendChild(m)}m||s.appendChild(e(h)),m=null}i&&(c.length>f&&s.appendChild(e(c.slice(f))),o.parentNode.replaceChild(s,o))}return t}function d(e,a){return f(e,function(e){var u,r,d=e,i=n(e),s=a.callback(i,a);if(s){d="<img ".concat('class="',a.className,'" ','draggable="false" ','alt="',e,'"',' src="',s,'"'),u=a.attributes(e,i);for(r in u)u.hasOwnProperty(r)&&0!==r.indexOf("on")&&d.indexOf(" "+r+"=")===-1&&(d=d.concat(" ",r,'="',t(u[r]),'"'));d=d.concat(">")}return d})}function i(e){return g[e]}function s(){return null}function o(e){return"number"==typeof e?e+"x"+e:e}function c(e){var t="string"==typeof e?parseInt(e,16):e;return 65536>t?E(t):(t-=65536,E(55296+(t>>10),56320+(1023&t)))}function l(e,t){return t&&"function"!=typeof t||(t={callback:t}),("string"==typeof e?d:r)(e,{callback:t.callback||a,attributes:"function"==typeof t.attributes?t.attributes:s,base:"string"==typeof t.base?t.base:h.base,ext:t.ext||h.ext,size:t.folder||o(t.size||h.size),className:t.className||h.className,onerror:t.onerror||h.onerror})}function f(e,t){return(e+"").replace(b,t)}function p(e){b.lastIndex=0;var t=b.test(e);return b.lastIndex=0,t}function m(e,t){for(var a=[],u=0,n=0,r=0;e.length>r;)u=e.charCodeAt(r++),n?(a.push((65536+(n-55296<<10)+(u-56320)).toString(16)),n=0):55296>u||u>56319?a.push(u.toString(16)):n=u;return a.join(t||"-")}var h={base:"https://twemoji.maxcdn.com/2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:c,toCodePoint:m},onerror:function(){this.parentNode&&this.parentNode.replaceChild(e(this.alt),this)},parse:l,replace:f,test:p},g={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},b=/\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|(?:[\u0023\u002a\u0030-\u0039])\ufe0f?\u20e3|(?:(?:\ud83c\udfcb|\ud83d[\udd75\udd90]|[\u261d\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0]|\ud83e[\udd18-\udd1e\udd26\udd30\udd33-\udd39\udd3c-\udd3e]|[\u270a\u270b])(?:\ud83c[\udffb-\udfff]|)|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\udecc\uded0-\uded2\udeeb\udeec\udef4-\udef6]|\ud83e[\udd10-\udd17\udd20-\udd25\udd27\udd3a\udd40-\udd45\udd47-\udd4b\udd50-\udd5e\udd80-\udd91\uddc0]|[\u23e9-\u23ec\u23f0\u23f3\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a]|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcc-\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd74\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u00a9\u00ae\u203c\u2049\u2122\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2694\u2696\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f7\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))/g,x=/\uFE0F/g,v=String.fromCharCode(8205),y=/[&<>'"]/g,w=/IFRAME|NOFRAMES|NOSCRIPT|SCRIPT|SELECT|STYLE|TEXTAREA|[a-z]/,E=String.fromCharCode;return h}();a.protocol||(u.base=u.base.replace(/^http:/,"")),e.exports=u}).call(t,function(){return this}())},1259:function(e,t,a){var u,n,r;!function(){function a(e,t){return t=t||"","string"!=typeof e&&(e.global&&t.indexOf("g")<0&&(t+="g"),e.ignoreCase&&t.indexOf("i")<0&&(t+="i"),e.multiline&&t.indexOf("m")<0&&(t+="m"),e=e.source),RegExp(e.replace(/#\{(\w+)\}/g,function(e,t){var a=o.txt.regexen[t]||"";return"string"!=typeof a&&(a=a.source),a}),t)}function d(e,t){return e.replace(/#\{(\w+)\}/g,function(e,a){return t[a]||""})}function i(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);return t}function s(e,t,a){return a?!e||e.match(t)&&RegExp["$&"]===e:"string"==typeof e&&e.match(t)&&RegExp["$&"]===e}if(void 0===o||null===o)var o={};o.txt={},o.txt.regexen={};var c={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"};o.txt.htmlEscape=function(e){return e&&e.replace(/[&"'><]/g,function(e){return c[e]})},o.txt.regexSupplant=a,o.txt.stringSupplant=d,o.txt.regexen.spaces_group=/\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000/,o.txt.regexen.spaces=a(/[#{spaces_group}]/),o.txt.regexen.invalid_chars_group=/\uFFFE\uFEFF\uFFFF\u202A-\u202E/,o.txt.regexen.invalid_chars=a(/[#{invalid_chars_group}]/),o.txt.regexen.punct=/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$/,o.txt.regexen.rtl_chars=/[\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF]/gm,o.txt.regexen.non_bmp_code_pairs=/[\uD800-\uDBFF][\uDC00-\uDFFF]/gm,o.txt.regexen.latinAccentChars=/\xC0-\xD6\xD8-\xF6\xF8-\xFF\u0100-\u024F\u0253\u0254\u0256\u0257\u0259\u025B\u0263\u0268\u026F\u0272\u0289\u028B\u02BB\u0300-\u036F\u1E00-\u1EFF/,o.txt.regexen.bmpLetterAndMarks=/A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u052f\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f2\u0610-\u061a\u0620-\u065f\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06ef\u06fa-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07ca-\u07f5\u07fa\u0800-\u082d\u0840-\u085b\u08a0-\u08b2\u08e4-\u0963\u0971-\u0983\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7\u09c8\u09cb-\u09ce\u09d7\u09dc\u09dd\u09df-\u09e3\u09f0\u09f1\u0a01-\u0a03\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a70-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0b01-\u0b03\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5c\u0b5d\u0b5f-\u0b63\u0b71\u0b82\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0c00-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c58\u0c59\u0c60-\u0c63\u0c81-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0cde\u0ce0-\u0ce3\u0cf1\u0cf2\u0d01-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d57\u0d60-\u0d63\u0d7a-\u0d7f\u0d82\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb9\u0ebb-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0edc-\u0edf\u0f00\u0f18\u0f19\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u103f\u1050-\u108f\u109a-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16f1-\u16f8\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772\u1773\u1780-\u17d3\u17d7\u17dc\u17dd\u180b-\u180d\u1820-\u1877\u1880-\u18aa\u18b0-\u18f5\u1900-\u191e\u1920-\u192b\u1930-\u193b\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f\u1aa7\u1ab0-\u1abe\u1b00-\u1b4b\u1b6b-\u1b73\u1b80-\u1baf\u1bba-\u1bf3\u1c00-\u1c37\u1c4d-\u1c4f\u1c5a-\u1c7d\u1cd0-\u1cd2\u1cd4-\u1cf6\u1cf8\u1cf9\u1d00-\u1df5\u1dfc-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u20d0-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u2e2f\u3005\u3006\u302a-\u302f\u3031-\u3035\u303b\u303c\u3041-\u3096\u3099\u309a\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua672\ua674-\ua67d\ua67f-\ua69d\ua69f-\ua6e5\ua6f0\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua7ad\ua7b0\ua7b1\ua7f7-\ua827\ua840-\ua873\ua880-\ua8c4\ua8e0-\ua8f7\ua8fb\ua90a-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf\ua9e0-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa36\uaa40-\uaa4d\uaa60-\uaa76\uaa7a-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab5f\uab64\uab65\uabc0-\uabea\uabec\uabed\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf870-\uf87f\uf882\uf884-\uf89f\uf8b8\uf8c1-\uf8d6\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe2d\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc/,
o.txt.regexen.astralLetterAndMarks=/\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\uddfd\ude80-\ude9c\udea0-\uded0\udee0\udf00-\udf1f\udf30-\udf40\udf42-\udf49\udf50-\udf7a\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf]|\ud801[\udc00-\udc9d\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe\uddbf\ude00-\ude03\ude05\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude33\ude38-\ude3a\ude3f\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee6\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48]|\ud804[\udc00-\udc46\udc7f-\udcba\udcd0-\udce8\udd00-\udd34\udd50-\udd73\udd76\udd80-\uddc4\uddda\ude00-\ude11\ude13-\ude37\udeb0-\udeea\udf01-\udf03\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3c-\udf44\udf47\udf48\udf4b-\udf4d\udf57\udf5d-\udf63\udf66-\udf6c\udf70-\udf74]|\ud805[\udc80-\udcc5\udcc7\udd80-\uddb5\uddb8-\uddc0\ude00-\ude40\ude44\ude80-\udeb7]|\ud806[\udca0-\udcdf\udcff\udec0-\udef8]|\ud808[\udc00-\udf98]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udef0-\udef4\udf00-\udf36\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\udf00-\udf44\udf50-\udf7e\udf8f-\udf9f]|\ud82c[\udc00\udc01]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9d\udc9e]|\ud834[\udd65-\udd69\udd6d-\udd72\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud83a[\udc00-\udcc4\udcd0-\udcd6]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d]|\ud87e[\udc00-\ude1d]|\udb40[\udd00-\uddef]/,o.txt.regexen.bmpNumerals=/0-9\u0660-\u0669\u06f0-\u06f9\u07c0-\u07c9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0de6-\u0def\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u1090-\u1099\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\u1a80-\u1a89\u1a90-\u1a99\u1b50-\u1b59\u1bb0-\u1bb9\u1c40-\u1c49\u1c50-\u1c59\ua620-\ua629\ua8d0-\ua8d9\ua900-\ua909\ua9d0-\ua9d9\ua9f0-\ua9f9\uaa50-\uaa59\uabf0-\uabf9\uff10-\uff19/,o.txt.regexen.astralNumerals=/\ud801[\udca0-\udca9]|\ud804[\udc66-\udc6f\udcf0-\udcf9\udd36-\udd3f\uddd0-\uddd9\udef0-\udef9]|\ud805[\udcd0-\udcd9\ude50-\ude59\udec0-\udec9]|\ud806[\udce0-\udce9]|\ud81a[\ude60-\ude69\udf50-\udf59]|\ud835[\udfce-\udfff]/,o.txt.regexen.hashtagSpecialChars=/_\u200c\u200d\ua67e\u05be\u05f3\u05f4\uff5e\u301c\u309b\u309c\u30a0\u30fb\u3003\u0f0b\u0f0c\xb7/,o.txt.regexen.hashSigns=/[#＃]/,o.txt.regexen.hashtagAlpha=a(/(?:[#{bmpLetterAndMarks}]|(?=#{non_bmp_code_pairs})(?:#{astralLetterAndMarks}))/),o.txt.regexen.hashtagAlphaNumeric=a(/(?:[#{bmpLetterAndMarks}#{bmpNumerals}#{hashtagSpecialChars}]|(?=#{non_bmp_code_pairs})(?:#{astralLetterAndMarks}|#{astralNumerals}))/),o.txt.regexen.endHashtagMatch=a(/^(?:#{hashSigns}|:\/\/)/),o.txt.regexen.codePoint=/(?:[^\uD800-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF])/,o.txt.regexen.hashtagBoundary=a(/(?:^|$|(?!#{hashtagAlphaNumeric}|&)#{codePoint})/),o.txt.regexen.validHashtag=a(/(#{hashtagBoundary})(#{hashSigns})(?!\uFE0F|\u20E3)(#{hashtagAlphaNumeric}*#{hashtagAlpha}#{hashtagAlphaNumeric}*)/gi),o.txt.regexen.validMentionPrecedingChars=/(?:^|[^a-zA-Z0-9_!#$%&*@＠]|(?:^|[^a-zA-Z0-9_+~.-])(?:rt|RT|rT|Rt):?)/,o.txt.regexen.atSigns=/[@＠]/,o.txt.regexen.validMentionOrList=a("(#{validMentionPrecedingChars})(#{atSigns})([a-zA-Z0-9_]{1,20})(/[a-zA-Z][a-zA-Z0-9_-]{0,24})?","g"),o.txt.regexen.validReply=a(/^(?:#{spaces})*#{atSigns}([a-zA-Z0-9_]{1,20})/),o.txt.regexen.endMentionMatch=a(/^(?:#{atSigns}|[#{latinAccentChars}]|:\/\/)/),o.txt.regexen.validUrlPrecedingChars=a(/(?:[^A-Za-z0-9@＠$#＃#{invalid_chars_group}]|^)/),o.txt.regexen.invalidUrlWithoutProtocolPrecedingChars=/[-_.\/]$/,o.txt.regexen.invalidDomainChars=d("#{punct}#{spaces_group}#{invalid_chars_group}",o.txt.regexen),o.txt.regexen.validDomainChars=a(/[^#{invalidDomainChars}]/),o.txt.regexen.validSubdomain=a(/(?:(?:#{validDomainChars}(?:[_-]|#{validDomainChars})*)?#{validDomainChars}\.)/),o.txt.regexen.validDomainName=a(/(?:(?:#{validDomainChars}(?:-|#{validDomainChars})*)?#{validDomainChars}\.)/),o.txt.regexen.validGTLD=a(RegExp("(?:(?:삼성|닷컴|닷넷|香格里拉|餐厅|食品|飞利浦|電訊盈科|集团|购物|谷歌|诺基亚|联通|网络|网站|网店|网址|组织机构|移动|珠宝|点看|游戏|淡马锡|机构|書籍|时尚|新闻|政府|政务|手表|手机|我爱你|慈善|微博|广东|工行|家電|娱乐|大拿|在线|嘉里大酒店|嘉里|商标|商店|商城|公益|公司|八卦|健康|信息|佛山|企业|中文网|中信|世界|ポイント|ファッション|セール|ストア|コム|グーグル|クラウド|みんな|คอม|संगठन|नेट|कॉम|همراه|موقع|موبايلي|كوم|شبكة|بيتك|بازار|العليان|ارامكو|ابوظبي|קום|сайт|рус|орг|онлайн|москва|ком|дети|zuerich|zone|zippo|zip|zero|zara|zappos|yun|youtube|you|yokohama|yoga|yodobashi|yandex|yamaxun|yahoo|yachts|xyz|xxx|xperia|xin|xihuan|xfinity|xerox|xbox|wtf|wtc|world|works|work|woodside|wolterskluwer|wme|wine|windows|win|williamhill|wiki|wien|whoswho|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|warman|wanggou|wang|walter|wales|vuelos|voyage|voto|voting|vote|volkswagen|vodka|vlaanderen|viva|vistaprint|vista|vision|virgin|vip|vin|villas|viking|vig|video|viajes|vet|versicherung|vermögensberatung|vermögensberater|verisign|ventures|vegas|vana|vacations|ups|uol|uno|university|unicom|ubs|tvs|tushu|tunes|tui|tube|trv|trust|travelersinsurance|travelers|travelchannel|travel|training|trading|trade|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|tmall|tirol|tires|tips|tiffany|tienda|tickets|theatre|theater|thd|teva|tennis|temasek|telefonica|telecity|tel|technology|tech|team|tdk|tci|taxi|tax|tattoo|tatar|tatamotors|taobao|talk|taipei|tab|systems|symantec|sydney|swiss|swatch|suzuki|surgery|surf|support|supply|supplies|sucks|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statoil|statefarm|statebank|starhub|star|stada|srl|spreadbetting|spot|spiegel|space|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|sncf|smile|skype|sky|skin|ski|site|singles|sina|silk|shriram|show|shouji|shopping|shop|shoes|shiksha|shia|shell|shaw|sharp|shangrila|sfr|sexy|sex|sew|seven|services|sener|select|seek|security|seat|scot|scor|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sca|sbs|sbi|saxo|save|sas|sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|salon|sale|sakura|safety|safe|saarland|ryukyu|rwe|run|ruhr|rsvp|room|rodeo|rocks|rocher|rip|rio|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|racing|quest|quebec|qpon|pwc|pub|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|post|porn|politie|poker|pohl|pnc|plus|plumbing|playstation|play|place|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|piaget|physio|photos|photography|photo|philips|pharmacy|pet|pccw|passagens|party|parts|partners|pars|paris|panerai|pamperedchef|page|ovh|ott|otsuka|osaka|origins|orientexpress|organic|org|orange|oracle|ooo|online|onl|ong|one|omega|ollo|olayangroup|olayan|okinawa|office|obi|nyc|ntt|nrw|nra|nowtv|nowruz|now|norton|northwesternmutual|nokia|nissay|nissan|ninja|nikon|nico|nhk|ngo|nfl|nexus|nextdirect|next|news|new|neustar|network|netflix|netbank|net|nec|navy|natura|name|nagoya|nadex|mutuelle|mutual|museum|mtr|mtpc|mtn|movistar|movie|mov|motorcycles|moscow|mortgage|mormon|montblanc|money|monash|mom|moi|moe|moda|mobily|mobi|mma|mls|mlb|mitsubishi|mit|mini|mil|microsoft|miami|metlife|meo|menu|men|memorial|meme|melbourne|meet|media|med|mba|mattel|marriott|markets|marketing|market|mango|management|man|makeup|maison|maif|madrid|luxury|luxe|lupin|ltda|ltd|love|lotto|lotte|london|lol|locus|locker|loans|loan|lixil|living|live|lipsy|link|linde|lincoln|limo|limited|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|lgbt|lexus|lego|legal|leclerc|lease|lds|lawyer|law|latrobe|lat|lasalle|lanxess|landrover|land|lancaster|lamer|lamborghini|lacaixa|kyoto|kuokgroup|kred|krd|kpn|kpmg|kosher|komatsu|koeln|kiwi|kitchen|kindle|kinder|kim|kia|kfh|kerryproperties|kerrylogistics|kerryhotels|kddi|kaufen|juegos|jprs|jpmorgan|joy|jot|joburg|jobs|jnj|jmp|jll|jlc|jewelry|jetzt|jcp|jcb|java|jaguar|iwc|itv|itau|istanbul|ist|ismaili|iselect|irish|ipiranga|investments|international|int|insure|insurance|institute|ink|ing|info|infiniti|industries|immobilien|immo|imdb|imamat|ikano|iinet|ifm|icu|ice|icbc|ibm|hyundai|htc|hsbc|how|house|hotmail|hoteles|hosting|host|horse|honda|homes|homedepot|holiday|holdings|hockey|hkt|hiv|hitachi|hisamitsu|hiphop|hgtv|hermes|here|helsinki|help|healthcare|health|hdfcbank|haus|hangout|hamburg|guru|guitars|guide|guge|gucci|guardian|group|gripe|green|gratis|graphics|grainger|gov|got|gop|google|goog|goodyear|goo|golf|goldpoint|gold|godaddy|gmx|gmo|gmbh|gmail|globo|global|gle|glass|giving|gives|gifts|gift|ggee|genting|gent|gea|gdn|gbiz|garden|games|game|gallup|gallo|gallery|gal|fyi|futbol|furniture|fund|fujitsu|ftr|frontier|frontdoor|frogans|frl|fresenius|fox|foundation|forum|forsale|forex|ford|football|foodnetwork|foo|fly|flsmidth|flowers|florist|flir|flights|flickr|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|ferrero|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|everbank|events|eus|eurovision|estate|esq|erni|ericsson|equipment|epson|epost|enterprises|engineering|engineer|energy|emerck|email|education|edu|edeka|eat|earth|dvag|durban|dupont|dunlop|dubai|dtv|drive|download|dot|doosan|domains|doha|dog|docs|dnp|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|dds|dclk|day|datsun|dating|date|dance|dad|dabur|cyou|cymru|cuisinella|csc|cruises|crs|crown|cricket|creditunion|creditcard|credit|courses|coupons|coupon|country|corsica|coop|cool|cookingchannel|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|comcast|com|cologne|college|coffee|codes|coach|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cityeats|city|citic|cisco|circle|cipriani|church|chrome|christmas|chloe|chintai|cheap|chat|chase|channel|chanel|cfd|cfa|cern|ceo|center|ceb|cbre|cbn|cba|catering|cat|casino|cash|casa|cartier|cars|careers|career|care|cards|caravan|car|capital|capetown|canon|cancerresearch|camp|camera|cam|call|cal|cafe|cab|bzh|buzz|buy|business|builders|build|bugatti|budapest|brussels|brother|broker|broadway|bridgestone|bradesco|boutique|bot|bostik|bosch|boots|book|boo|bond|bom|boehringer|boats|bnpparibas|bnl|bmw|bms|blue|bloomberg|blog|blanco|blackfriday|black|biz|bio|bingo|bing|bike|bid|bible|bharti|bet|best|berlin|bentley|beer|beats|bcn|bcg|bbva|bbc|bayern|bauhaus|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|baidu|baby|azure|axa|aws|avianca|autos|auto|author|audio|audible|audi|auction|attorney|associates|asia|arte|art|arpa|army|archi|aramco|aquarelle|apple|app|apartments|anz|anquan|android|analytics|amsterdam|amica|alstom|alsace|ally|allfinanz|alipay|alibaba|akdn|airtel|airforce|airbus|aig|agency|agakhan|afl|aetna|aero|aeg|adult|ads|adac|actor|active|aco|accountants|accountant|accenture|academy|abudhabi|abogado|able|abbvie|abbott|abb|aarp|aaa|onion)(?=[^0-9a-zA-Z@]|$))")),o.txt.regexen.validCCTLD=a(RegExp("(?:(?:한국|香港|澳門|新加坡|台灣|台湾|中國|中国|გე|ไทย|ලංකා|ഭാരതം|ಭಾರತ|భారత్|சிங்கப்பூர்|இலங்கை|இந்தியா|ଭାରତ|ભારત|ਭਾਰਤ|ভাৰত|ভারত|বাংলা|भारत|پاکستان|مليسيا|مصر|قطر|فلسطين|عمان|عراق|سورية|سودان|تونس|بھارت|ایران|امارات|المغرب|السعودية|الجزائر|الاردن|հայ|қаз|укр|срб|рф|мон|мкд|ею|бел|бг|ελ|zw|zm|za|yt|ye|ws|wf|vu|vn|vi|vg|ve|vc|va|uz|uy|us|um|uk|ug|ua|tz|tw|tv|tt|tr|tp|to|tn|tm|tl|tk|tj|th|tg|tf|td|tc|sz|sy|sx|sv|su|st|ss|sr|so|sn|sm|sl|sk|sj|si|sh|sg|se|sd|sc|sb|sa|rw|ru|rs|ro|re|qa|py|pw|pt|ps|pr|pn|pm|pl|pk|ph|pg|pf|pe|pa|om|nz|nu|nr|np|no|nl|ni|ng|nf|ne|nc|na|mz|my|mx|mw|mv|mu|mt|ms|mr|mq|mp|mo|mn|mm|ml|mk|mh|mg|mf|me|md|mc|ma|ly|lv|lu|lt|ls|lr|lk|li|lc|lb|la|kz|ky|kw|kr|kp|kn|km|ki|kh|kg|ke|jp|jo|jm|je|it|is|ir|iq|io|in|im|il|ie|id|hu|ht|hr|hn|hm|hk|gy|gw|gu|gt|gs|gr|gq|gp|gn|gm|gl|gi|gh|gg|gf|ge|gd|gb|ga|fr|fo|fm|fk|fj|fi|eu|et|es|er|eh|eg|ee|ec|dz|do|dm|dk|dj|de|cz|cy|cx|cw|cv|cu|cr|co|cn|cm|cl|ck|ci|ch|cg|cf|cd|cc|ca|bz|by|bw|bv|bt|bs|br|bq|bo|bn|bm|bl|bj|bi|bh|bg|bf|be|bd|bb|ba|az|ax|aw|au|at|as|ar|aq|ao|an|am|al|ai|ag|af|ae|ad|ac)(?=[^0-9a-zA-Z@]|$))")),o.txt.regexen.validPunycode=/(?:xn--[0-9a-z]+)/,o.txt.regexen.validSpecialCCTLD=/(?:(?:co|tv)(?=[^0-9a-zA-Z@]|$))/,o.txt.regexen.validDomain=a(/(?:#{validSubdomain}*#{validDomainName}(?:#{validGTLD}|#{validCCTLD}|#{validPunycode}))/),o.txt.regexen.validAsciiDomain=a(/(?:(?:[\-a-z0-9#{latinAccentChars}]+)\.)+(?:#{validGTLD}|#{validCCTLD}|#{validPunycode})/gi),o.txt.regexen.invalidShortDomain=a(/^#{validDomainName}#{validCCTLD}$/i),o.txt.regexen.validSpecialShortDomain=a(/^#{validDomainName}#{validSpecialCCTLD}$/i),o.txt.regexen.validPortNumber=/[0-9]+/,o.txt.regexen.cyrillicLettersAndMarks=/\u0400-\u04FF/,o.txt.regexen.validGeneralUrlPathChars=a(/[a-z#{cyrillicLettersAndMarks}0-9!\*';:=\+,\.\$\/%#\[\]\-_~@\|&#{latinAccentChars}]/i),o.txt.regexen.validUrlBalancedParens=a("\\((?:#{validGeneralUrlPathChars}+|(?:#{validGeneralUrlPathChars}*\\(#{validGeneralUrlPathChars}+\\)#{validGeneralUrlPathChars}*))\\)","i"),o.txt.regexen.validUrlPathEndingChars=a(/[\+\-a-z#{cyrillicLettersAndMarks}0-9=_#\/#{latinAccentChars}]|(?:#{validUrlBalancedParens})/i),o.txt.regexen.validUrlPath=a("(?:(?:#{validGeneralUrlPathChars}*(?:#{validUrlBalancedParens}#{validGeneralUrlPathChars}*)*#{validUrlPathEndingChars})|(?:@#{validGeneralUrlPathChars}+/))","i"),o.txt.regexen.validUrlQueryChars=/[a-z0-9!?\*'@\(\);:&=\+\$\/%#\[\]\-_\.,~|]/i,o.txt.regexen.validUrlQueryEndingChars=/[a-z0-9_&=#\/]/i,o.txt.regexen.extractUrl=a("((#{validUrlPrecedingChars})((https?:\\/\\/)?(#{validDomain})(?::(#{validPortNumber}))?(\\/#{validUrlPath}*)?(\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?))","gi"),o.txt.regexen.validTcoUrl=/^https?:\/\/t\.co\/[a-z0-9]+/i,o.txt.regexen.urlHasProtocol=/^https?:\/\//i,o.txt.regexen.urlHasHttps=/^https:\/\//i,o.txt.regexen.cashtag=/[a-z]{1,6}(?:[._][a-z]{1,2})?/i,o.txt.regexen.validCashtag=a("(^|#{spaces})(\\$)(#{cashtag})(?=$|\\s|[#{punct}])","gi"),o.txt.regexen.validateUrlUnreserved=/[a-z\u0400-\u04FF0-9\-._~]/i,o.txt.regexen.validateUrlPctEncoded=/(?:%[0-9a-f]{2})/i,o.txt.regexen.validateUrlSubDelims=/[!$&'()*+,;=]/i,o.txt.regexen.validateUrlPchar=a("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|[:|@])","i"),o.txt.regexen.validateUrlScheme=/(?:[a-z][a-z0-9+\-.]*)/i,o.txt.regexen.validateUrlUserinfo=a("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|:)*","i"),o.txt.regexen.validateUrlDecOctet=/(?:[0-9]|(?:[1-9][0-9])|(?:1[0-9]{2})|(?:2[0-4][0-9])|(?:25[0-5]))/i,o.txt.regexen.validateUrlIpv4=a(/(?:#{validateUrlDecOctet}(?:\.#{validateUrlDecOctet}){3})/i),o.txt.regexen.validateUrlIpv6=/(?:\[[a-f0-9:\.]+\])/i,o.txt.regexen.validateUrlIp=a("(?:#{validateUrlIpv4}|#{validateUrlIpv6})","i"),o.txt.regexen.validateUrlSubDomainSegment=/(?:[a-z0-9](?:[a-z0-9_\-]*[a-z0-9])?)/i,o.txt.regexen.validateUrlDomainSegment=/(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?)/i,o.txt.regexen.validateUrlDomainTld=/(?:[a-z](?:[a-z0-9\-]*[a-z0-9])?)/i,o.txt.regexen.validateUrlDomain=a(/(?:(?:#{validateUrlSubDomainSegment]}\.)*(?:#{validateUrlDomainSegment]}\.)#{validateUrlDomainTld})/i),o.txt.regexen.validateUrlHost=a("(?:#{validateUrlIp}|#{validateUrlDomain})","i"),o.txt.regexen.validateUrlUnicodeSubDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9_\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,o.txt.regexen.validateUrlUnicodeDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,o.txt.regexen.validateUrlUnicodeDomainTld=/(?:(?:[a-z]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,o.txt.regexen.validateUrlUnicodeDomain=a(/(?:(?:#{validateUrlUnicodeSubDomainSegment}\.)*(?:#{validateUrlUnicodeDomainSegment}\.)#{validateUrlUnicodeDomainTld})/i),o.txt.regexen.validateUrlUnicodeHost=a("(?:#{validateUrlIp}|#{validateUrlUnicodeDomain})","i"),o.txt.regexen.validateUrlPort=/[0-9]{1,5}/,o.txt.regexen.validateUrlUnicodeAuthority=a("(?:(#{validateUrlUserinfo})@)?(#{validateUrlUnicodeHost})(?::(#{validateUrlPort}))?","i"),o.txt.regexen.validateUrlAuthority=a("(?:(#{validateUrlUserinfo})@)?(#{validateUrlHost})(?::(#{validateUrlPort}))?","i"),o.txt.regexen.validateUrlPath=a(/(\/#{validateUrlPchar}*)*/i),o.txt.regexen.validateUrlQuery=a(/(#{validateUrlPchar}|\/|\?)*/i),o.txt.regexen.validateUrlFragment=a(/(#{validateUrlPchar}|\/|\?)*/i),o.txt.regexen.validateUrlUnencoded=a("^(?:([^:/?#]+):\\/\\/)?([^/?#]*)([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$","i");var l="tweet-url list-slug",f="tweet-url username",p="tweet-url hashtag",m="tweet-url cashtag",h={urlClass:!0,listClass:!0,usernameClass:!0,hashtagClass:!0,cashtagClass:!0,usernameUrlBase:!0,listUrlBase:!0,hashtagUrlBase:!0,cashtagUrlBase:!0,usernameUrlBlock:!0,listUrlBlock:!0,hashtagUrlBlock:!0,linkUrlBlock:!0,usernameIncludeSymbol:!0,suppressLists:!0,suppressNoFollow:!0,targetBlank:!0,suppressDataScreenName:!0,urlEntities:!0,symbolTag:!0,textWithSymbolTag:!0,urlTarget:!0,invisibleTagAttrs:!0,linkAttributeBlock:!0,linkTextBlock:!0,htmlEscapeNonEntities:!0},g={disabled:!0,readonly:!0,multiple:!0,checked:!0};o.txt.tagAttrs=function(e){var t="";for(var a in e){var u=e[a];g[a]&&(u=u?a:null),null!=u&&(t+=" "+o.txt.htmlEscape(a)+'="'+o.txt.htmlEscape(""+u)+'"')}return t},o.txt.linkToText=function(e,t,a,u){u.suppressNoFollow||(a.rel="nofollow"),u.linkAttributeBlock&&u.linkAttributeBlock(e,a),u.linkTextBlock&&(t=u.linkTextBlock(e,t));var n={text:t,attr:o.txt.tagAttrs(a)};return d("<a#{attr}>#{text}</a>",n)},o.txt.linkToTextWithSymbol=function(e,t,a,u,n){var r=n.symbolTag?"<"+n.symbolTag+">"+t+"</"+n.symbolTag+">":t;a=o.txt.htmlEscape(a);var d=n.textWithSymbolTag?"<"+n.textWithSymbolTag+">"+a+"</"+n.textWithSymbolTag+">":a;return n.usernameIncludeSymbol||!t.match(o.txt.regexen.atSigns)?o.txt.linkToText(e,r+d,u,n):r+o.txt.linkToText(e,d,u,n)},o.txt.linkToHashtag=function(e,t,a){var u=t.substring(e.indices[0],e.indices[0]+1),n=o.txt.htmlEscape(e.hashtag),r=i(a.htmlAttrs||{});return r.href=a.hashtagUrlBase+n,r.title="#"+n,r.class=a.hashtagClass,n.charAt(0).match(o.txt.regexen.rtl_chars)&&(r.class+=" rtl"),a.targetBlank&&(r.target="_blank"),o.txt.linkToTextWithSymbol(e,u,n,r,a)},o.txt.linkToCashtag=function(e,t,a){var u=o.txt.htmlEscape(e.cashtag),n=i(a.htmlAttrs||{});return n.href=a.cashtagUrlBase+u,n.title="$"+u,n.class=a.cashtagClass,a.targetBlank&&(n.target="_blank"),o.txt.linkToTextWithSymbol(e,"$",u,n,a)},o.txt.linkToMentionAndList=function(e,t,a){var u=t.substring(e.indices[0],e.indices[0]+1),n=o.txt.htmlEscape(e.screenName),r=o.txt.htmlEscape(e.listSlug),d=e.listSlug&&!a.suppressLists,s=i(a.htmlAttrs||{});return s.class=d?a.listClass:a.usernameClass,s.href=d?a.listUrlBase+n+r:a.usernameUrlBase+n,d||a.suppressDataScreenName||(s["data-screen-name"]=n),a.targetBlank&&(s.target="_blank"),o.txt.linkToTextWithSymbol(e,u,d?n+r:n,s,a)},o.txt.linkToUrl=function(e,t,a){var u=e.url,n=u,r=o.txt.htmlEscape(n),d=a.urlEntities&&a.urlEntities[u]||e;d.display_url&&(r=o.txt.linkTextWithEntity(d,a));var s=i(a.htmlAttrs||{});return u.match(o.txt.regexen.urlHasProtocol)||(u="http://"+u),s.href=u,a.targetBlank&&(s.target="_blank"),a.urlClass&&(s.class=a.urlClass),a.urlTarget&&(s.target=a.urlTarget),!a.title&&d.display_url&&(s.title=d.expanded_url),o.txt.linkToText(e,r,s,a)},o.txt.linkTextWithEntity=function(e,t){var a=e.display_url,u=e.expanded_url,n=a.replace(/…/g,"");if(u.indexOf(n)!=-1){var r=u.indexOf(n),i={displayUrlSansEllipses:n,beforeDisplayUrl:u.substr(0,r),afterDisplayUrl:u.substr(r+n.length),precedingEllipsis:a.match(/^…/)?"…":"",followingEllipsis:a.match(/…$/)?"…":""};for(var s in i)i.hasOwnProperty(s)&&(i[s]=o.txt.htmlEscape(i[s]));return i.invisible=t.invisibleTagAttrs,d("<span class='tco-ellipsis'>#{precedingEllipsis}<span #{invisible}>&nbsp;</span></span><span #{invisible}>#{beforeDisplayUrl}</span><span class='js-display-url'>#{displayUrlSansEllipses}</span><span #{invisible}>#{afterDisplayUrl}</span><span class='tco-ellipsis'><span #{invisible}>&nbsp;</span>#{followingEllipsis}</span>",i)}return a},o.txt.autoLinkEntities=function(e,t,a){a=i(a||{}),a.hashtagClass=a.hashtagClass||p,a.hashtagUrlBase=a.hashtagUrlBase||"https://twitter.com/#!/search?q=%23",a.cashtagClass=a.cashtagClass||m,a.cashtagUrlBase=a.cashtagUrlBase||"https://twitter.com/#!/search?q=%24",a.listClass=a.listClass||l,a.usernameClass=a.usernameClass||f,a.usernameUrlBase=a.usernameUrlBase||"https://twitter.com/",a.listUrlBase=a.listUrlBase||"https://twitter.com/",a.htmlAttrs=o.txt.extractHtmlAttrsFromOptions(a),a.invisibleTagAttrs=a.invisibleTagAttrs||"style='position:absolute;left:-9999px;'";var u,n,r;if(a.urlEntities){for(u={},n=0,r=a.urlEntities.length;r>n;n++)u[a.urlEntities[n].url]=a.urlEntities[n];a.urlEntities=u}var d="",s=0;t.sort(function(e,t){return e.indices[0]-t.indices[0]});for(var c=a.htmlEscapeNonEntities?o.txt.htmlEscape:function(e){return e},n=0;t.length>n;n++){var h=t[n];d+=c(e.substring(s,h.indices[0])),h.url?d+=o.txt.linkToUrl(h,e,a):h.hashtag?d+=o.txt.linkToHashtag(h,e,a):h.screenName?d+=o.txt.linkToMentionAndList(h,e,a):h.cashtag&&(d+=o.txt.linkToCashtag(h,e,a)),s=h.indices[1]}return d+=c(e.substring(s,e.length))},o.txt.autoLinkWithJSON=function(e,t,a){if(t.user_mentions)for(var u=0;t.user_mentions.length>u;u++)t.user_mentions[u].screenName=t.user_mentions[u].screen_name;if(t.hashtags)for(var u=0;t.hashtags.length>u;u++)t.hashtags[u].hashtag=t.hashtags[u].text;if(t.symbols)for(var u=0;t.symbols.length>u;u++)t.symbols[u].cashtag=t.symbols[u].text;var n=[];for(var r in t)n=n.concat(t[r]);return o.txt.modifyIndicesFromUnicodeToUTF16(e,n),o.txt.autoLinkEntities(e,n,a)},o.txt.extractHtmlAttrsFromOptions=function(e){var t={};for(var a in e){var u=e[a];h[a]||(g[a]&&(u=u?a:null),null!=u&&(t[a]=u))}return t},o.txt.autoLink=function(e,t){var a=o.txt.extractEntitiesWithIndices(e,{extractUrlsWithoutProtocol:!1});return o.txt.autoLinkEntities(e,a,t)},o.txt.autoLinkUsernamesOrLists=function(e,t){var a=o.txt.extractMentionsOrListsWithIndices(e);return o.txt.autoLinkEntities(e,a,t)},o.txt.autoLinkHashtags=function(e,t){var a=o.txt.extractHashtagsWithIndices(e);return o.txt.autoLinkEntities(e,a,t)},o.txt.autoLinkCashtags=function(e,t){var a=o.txt.extractCashtagsWithIndices(e);return o.txt.autoLinkEntities(e,a,t)},o.txt.autoLinkUrlsCustom=function(e,t){var a=o.txt.extractUrlsWithIndices(e,{extractUrlsWithoutProtocol:!1});return o.txt.autoLinkEntities(e,a,t)},o.txt.removeOverlappingEntities=function(e){e.sort(function(e,t){return e.indices[0]-t.indices[0]});for(var t=e[0],a=1;e.length>a;a++)t.indices[1]>e[a].indices[0]?(e.splice(a,1),a--):t=e[a]},o.txt.extractEntitiesWithIndices=function(e,t){var a=o.txt.extractUrlsWithIndices(e,t).concat(o.txt.extractMentionsOrListsWithIndices(e)).concat(o.txt.extractHashtagsWithIndices(e,{checkUrlOverlap:!1})).concat(o.txt.extractCashtagsWithIndices(e));return 0==a.length?[]:(o.txt.removeOverlappingEntities(a),a)},o.txt.extractMentions=function(e){for(var t=[],a=o.txt.extractMentionsWithIndices(e),u=0;a.length>u;u++){var n=a[u].screenName;t.push(n)}return t},o.txt.extractMentionsWithIndices=function(e){for(var t,a=[],u=o.txt.extractMentionsOrListsWithIndices(e),n=0;u.length>n;n++)t=u[n],""==t.listSlug&&a.push({screenName:t.screenName,indices:t.indices});return a},o.txt.extractMentionsOrListsWithIndices=function(e){if(!e||!e.match(o.txt.regexen.atSigns))return[];var t=[];return e.replace(o.txt.regexen.validMentionOrList,function(e,a,u,n,r,d,i){var s=i.slice(d+e.length);if(!s.match(o.txt.regexen.endMentionMatch)){r=r||"";var c=d+a.length,l=c+n.length+r.length+1;t.push({screenName:n,listSlug:r,indices:[c,l]})}}),t},o.txt.extractReplies=function(e){if(!e)return null;var t=e.match(o.txt.regexen.validReply);return!t||RegExp.rightContext.match(o.txt.regexen.endMentionMatch)?null:t[1]},o.txt.extractUrls=function(e,t){for(var a=[],u=o.txt.extractUrlsWithIndices(e,t),n=0;u.length>n;n++)a.push(u[n].url);return a},o.txt.extractUrlsWithIndices=function(e,t){if(t||(t={extractUrlsWithoutProtocol:!0}),!e||(t.extractUrlsWithoutProtocol?!e.match(/\./):!e.match(/:/)))return[];for(var a=[];o.txt.regexen.extractUrl.exec(e);){var u=RegExp.$2,n=RegExp.$3,r=RegExp.$4,d=RegExp.$5,i=RegExp.$7,s=o.txt.regexen.extractUrl.lastIndex,c=s-n.length;if(r)n.match(o.txt.regexen.validTcoUrl)&&(n=RegExp.lastMatch,s=c+n.length),a.push({url:n,indices:[c,s]});else{if(!t.extractUrlsWithoutProtocol||u.match(o.txt.regexen.invalidUrlWithoutProtocolPrecedingChars))continue;var l=null,f=0;if(d.replace(o.txt.regexen.validAsciiDomain,function(e){var t=d.indexOf(e,f);f=t+e.length,l={url:e,indices:[c+t,c+f]},(i||e.match(o.txt.regexen.validSpecialShortDomain)||!e.match(o.txt.regexen.invalidShortDomain))&&a.push(l)}),null==l)continue;i&&(l.url=n.replace(d,l.url),l.indices[1]=s)}}return a},o.txt.extractHashtags=function(e){for(var t=[],a=o.txt.extractHashtagsWithIndices(e),u=0;a.length>u;u++)t.push(a[u].hashtag);return t},o.txt.extractHashtagsWithIndices=function(e,t){if(t||(t={checkUrlOverlap:!0}),!e||!e.match(o.txt.regexen.hashSigns))return[];var a=[];if(e.replace(o.txt.regexen.validHashtag,function(e,t,u,n,r,d){var i=d.slice(r+e.length);if(!i.match(o.txt.regexen.endHashtagMatch)){var s=r+t.length,c=s+n.length+1;a.push({hashtag:n,indices:[s,c]})}}),t.checkUrlOverlap){var u=o.txt.extractUrlsWithIndices(e);if(u.length>0){var n=a.concat(u);o.txt.removeOverlappingEntities(n),a=[];for(var r=0;n.length>r;r++)n[r].hashtag&&a.push(n[r])}}return a},o.txt.extractCashtags=function(e){for(var t=[],a=o.txt.extractCashtagsWithIndices(e),u=0;a.length>u;u++)t.push(a[u].cashtag);return t},o.txt.extractCashtagsWithIndices=function(e){if(!e||e.indexOf("$")==-1)return[];var t=[];return e.replace(o.txt.regexen.validCashtag,function(e,a,u,n,r,d){var i=r+a.length,s=i+n.length+1;t.push({cashtag:n,indices:[i,s]})}),t},o.txt.modifyIndicesFromUnicodeToUTF16=function(e,t){o.txt.convertUnicodeIndices(e,t,!1)},o.txt.modifyIndicesFromUTF16ToUnicode=function(e,t){o.txt.convertUnicodeIndices(e,t,!0)},o.txt.getUnicodeTextLength=function(e){return e.replace(o.txt.regexen.non_bmp_code_pairs," ").length},o.txt.convertUnicodeIndices=function(e,t,a){if(0!=t.length){var u=0,n=0;t.sort(function(e,t){return e.indices[0]-t.indices[0]});for(var r=0,d=t[0];e.length>u;){if(d.indices[0]==(a?u:n)){var i=d.indices[1]-d.indices[0];if(d.indices[0]=a?n:u,d.indices[1]=d.indices[0]+i,r++,r==t.length)break;d=t[r]}var s=e.charCodeAt(u);55296>s||s>56319||u>=e.length-1||(s=e.charCodeAt(u+1),56320>s||s>57343||u++),n++,u++}}},o.txt.splitTags=function(e){for(var t,a,u=e.split("<"),n=[],r=0;u.length>r;r+=1)if(a=u[r]){t=a.split(">");for(var d=0;t.length>d;d+=1)n.push(t[d])}else n.push("");return n},o.txt.hitHighlight=function(e,t,a){var u="em";if(t=t||[],a=a||{},0===t.length)return e;var n,r,d,i,s,c,l,f=a.tag||u,p=["<"+f+">","</"+f+">"],m=o.txt.splitTags(e),h="",g=0,b=m[0],x=0,v=0,y=!1,w=b,E=[];for(n=0;t.length>n;n+=1)for(r=0;t[n].length>r;r+=1)E.push(t[n][r]);for(d=0;E.length>d;d+=1){for(i=E[d],s=p[d%2],c=!1;null!=b&&i>=x+b.length;)h+=w.slice(v),y&&i===x+w.length&&(h+=s,c=!0),m[g+1]&&(h+="<"+m[g+1]+">"),x+=w.length,v=0,g+=2,b=m[g],w=b,y=!1;c||null==b?c||(c=!0,h+=s):(l=i-x,h+=w.slice(v,l)+s,v=l,y=d%2===0)}if(null!=b)for(w.length>v&&(h+=w.slice(v)),d=g+1;m.length>d;d+=1)h+=d%2===0?m[d]:"<"+m[d]+">";return h};var b=140;o.txt.getTweetLength=function(e,t){t||(t={short_url_length:23,short_url_length_https:23});var a=o.txt.getUnicodeTextLength(e),u=o.txt.extractUrlsWithIndices(e);o.txt.modifyIndicesFromUTF16ToUnicode(e,u);for(var n=0;u.length>n;n++)a+=u[n].indices[0]-u[n].indices[1],a+=u[n].url.toLowerCase().match(o.txt.regexen.urlHasHttps)?t.short_url_length_https:t.short_url_length;return a},o.txt.isInvalidTweet=function(e){return e?o.txt.getTweetLength(e)>b?"too_long":!!o.txt.hasInvalidCharacters(e)&&"invalid_characters":"empty"},o.txt.hasInvalidCharacters=function(e){return o.txt.regexen.invalid_chars.test(e)},o.txt.isValidTweetText=function(e){return!o.txt.isInvalidTweet(e)},o.txt.isValidUsername=function(e){if(!e)return!1;var t=o.txt.extractMentions(e);return 1===t.length&&t[0]===e.slice(1)};var x=a(/^#{validMentionOrList}$/);if(o.txt.isValidList=function(e){var t=e.match(x);return!(!t||""!=t[1]||!t[4])},o.txt.isValidHashtag=function(e){if(!e)return!1;var t=o.txt.extractHashtags(e);return 1===t.length&&t[0]===e.slice(1)},o.txt.isValidUrl=function(e,t,a){if(null==t&&(t=!0),null==a&&(a=!0),!e)return!1;var u=e.match(o.txt.regexen.validateUrlUnencoded);if(!u||u[0]!==e)return!1;var n=u[1],r=u[2],d=u[3],i=u[4],c=u[5];return!!((!a||s(n,o.txt.regexen.validateUrlScheme)&&n.match(/^https?$/i))&&s(d,o.txt.regexen.validateUrlPath)&&s(i,o.txt.regexen.validateUrlQuery,!0)&&s(c,o.txt.regexen.validateUrlFragment,!0))&&(t&&s(r,o.txt.regexen.validateUrlUnicodeAuthority)||!t&&s(r,o.txt.regexen.validateUrlAuthority))},void 0!==e&&e.exports&&(e.exports=o.txt),n=[],u=o.txt,r="function"==typeof u?u.apply(t,n):u,!(void 0!==r&&(e.exports=r)),"undefined"!=typeof window)if(window.twttr)for(var v in o)window.twttr[v]=o[v];else window.twttr=o}()}});