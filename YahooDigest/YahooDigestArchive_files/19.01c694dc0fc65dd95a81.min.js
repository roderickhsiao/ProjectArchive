webpackJsonp([19],{198:function(e,t,i){var n=i(64),r=i(4)("DigestService:changeCurrentUrl"),a=i(38);e.exports=function(e,t,i){if(r("Change Current Digest Url",t),!e||!t||!t.url)return i&&i(a.http.badRequest("Missing url parameter"));var o=e.getStore(n);if(o.isLoading())return i&&i();var s={url:t.url};e.dispatch("CHANGE_CURRENT_URL",s),i&&i()}},308:function(e,t,i){function n(e,t){e.service.read("latestIds",{},{},function(e,i){return o("Get latest IDs",i),i=s(i,["result","latest_digests",0]),e||!i?t(e,null):void(t&&t(null,i))})}function r(e,t,i,n){var r,a,u;return t=t||{},u=parseInt(t.page,10)||0,n&&(a=s(n,["latestId"],{}),t.date=a.date,t.edition=parseInt(a.edition,10)),!t.date&&isNaN(t.edition)?(r="args.date or args.edition are missing from latestIds API",i&&i(r,null)):void e.service.read("oldDigest",t,{},function(e,t){return t=s(t,["result","items",u,"webpageUrl"]),o("Get digest",t),e||!t?i&&i():void(i&&i(null,t))})}var a=i(44),o=i(4)("DigestActions:getDigestUrl"),s=i(3);e.exports=function(e,t,i){if(o("Execute action",t),!e||!t)return i&&i(Error("Invalid parameters"));if(t.url)return i&&i(null,t.url);var s={date:t.date,edition:parseInt(t.edition,10),page:parseInt(t.page,10)||0};s.date&&!isNaN(s.edition)?r(e,s,i):a.auto({latestId:n.bind(this,e),digestUrl:["latestId",r.bind(this,e,s)]},function(e,t){o("get digest URL",t.digestUrl),i&&i(null,t.digestUrl)})}},309:function(e,t,i){function n(e,t,i){var n=t.url;return n?void e.service.read("digest",{url:n},{},function(e,t){i(e,t)}):i&&i(u.http.badRequest("Missing url parameter"))}var r=i(64),a=i(44),o=i(198),s=i(4)("DigestActions:loadDigest"),u=i(38),l=i(308);e.exports=function(e,t,i){if(s("Load digest",t),!e||!t)return i&&i(u.http.badRequest("Missing url parameter"));var g=t.url,d=e.getStore(r);if(d.isLoading())return i&&i();if(d.isLoaded(g))e.executeAction(o,{url:g},i);else{var c={date:t.date,edition:parseInt(t.edition,10),url:g};e.dispatch("LOAD_DIGEST_START",c),a.auto({digestUrl:a.apply(l,e,c),digest:["digestUrl",function(t,i){n(e,{url:i.digestUrl},t)}]},function(t,n){return t||!n.digest?(e.dispatch("LOAD_DIGEST_FAILURE",t),i&&i(t)):(e.dispatch("LOAD_DIGEST_SUCCESS",n.digest),void(i&&i(null,n.digest)))})}}},671:function(e,t,i){"use strict";var n=i(48),r=i(176),a=i(699);e.exports=function(e,t,i){var o,s=t.pageConfig||{},u=s.meta||{},l=s.links||{};o={links:l,meta:u},e.dispatch("CHANGE_PAGE_DATA",o);var g={loadUser:r,loadVibeUser:["loadUser",a]};n(e,g,i)}},672:function(e,t,i){"use strict";function n(e,t,i){r("initializePage",t);var n,a=t.pageConfig||{},o=a.meta||{},s=a.links||{};n={links:s,meta:o},e.dispatch("CHANGE_PAGE_DATA",n)}var r=i(4)("TdAppYahoo:initializePage"),a=i(48),o=i(176);n.displayName="initializePage",e.exports=function(e,t,i){a(e,{loadUser:o,initializePage:["loadUser",{action:n,params:t}]},i)},e.exports.displayName="initializePageAction"},673:function(e,t,i){"use strict";var n=i(1229),r=i(435),a=function(e,t,i){var a=r.getPageKey(r.getPageParams(t,null,e));e.executeAction(n,{pageKey:a,route:t},i)};e.exports=a,e.exports.displayName="loadConfigAndPage"},674:function(e,t,i){function n(e){var t=s(e,["session","dimensions","intl"]);return t&&"us"!==t||(t="www"),f.test(e.host)?e.host:t+".yahoo.com"}function r(e,t){o("Get arguments from route",t);var i={url:null,date:null,edition:null,lang:s(e,["session","dimensions","lang"]),region:s(e,["session","dimensions","region"])},r=t.name,a=t.url&&t.url.split("?")[0];return r?("digest"===r&&(i.url="https://"+n(e)+a),i):i}var a=i(89),o=i(4)("DigestApp:loadDigestPage"),s=i(3),u=i(23).getContext,l=i(67).getLinks,g=i(67).getMetaData,d=i(309),c=i(176),p=i(22),f=/^\w+\.yahoo\.com$/;e.exports=function(e,t,i){var n,f=e.getStore("RouteStore").getCurrentRoute()||{},v=r(e,f),A=s(e.getStore(a).getStrings(),["META_TITLE"]),m=s(t,["pageConfig","meta"],{}),C=s(t,["pageConfig","links"],{});o("Dispatch args",v),e.executeAction(d,v,function(t,r){var a=s(e,["session","dimensions"],{});if(t)return i&&i(t);e.executeAction(c);var d=s(r,["items",0]);d&&(C=C.concat(l(d)),n=p(g(d),{context:a,links:C,meta:m,site:A}),o("Fetch page data",n),e.dispatch("CHANGE_PAGE_DATA",n),"smartphone"===a.device&&e.executeAction(u,{publisher:"news-"+a.lang,title:d.title,url:d.link,uuid:d.id})),i&&i()})}},675:function(e,t,i){e.exports={controllerViews:{DesktopContentLayout:i(90).RC5Layout,FPApp:i(624),MobileOneColumnLayout:i(90).MobileOneColumnLayout},actions:{initBasePage:i(671),initializePage:i(672),loadConfigAndPage:i(673),loadDigestPage:i(674)},stores:{ContentStore:i(18),MobileLayoutStore:i(668),PageConfigStore:i(236)}}},699:function(e,t,i){"use strict";var n=i(3),r=function(e,t,i){var r=e.getStore("RouteStore").getCurrentRoute()||{},a=n(r,["params","guid"],null)||e.getStore("UserStore").getGUID();return a?void e.service.read("VibeService.users.profile",{guid:a},{},function(t,n){return!n||t?i&&i(t):(e.dispatch("GET_VIBE_USER_PROFILE_SUCCESS",n),void(i&&i()))}):i&&i()};e.exports=r},1229:function(e,t,i){"use strict";var n=i(4)("PageConfigService:loadConfigAndPage"),r=i(1249),a=i(612),o=function(e,t,i){n("loadConfigAndPage",t);var o=function(e,i,n){var r={pageKeys:[t.pageKey]};e.executeAction(a,r,function(e,i){n(e,i&&i[t.pageKey])})},s={route:t.route,pageConfig:{pageConfigFormatter:o}};e.executeAction(r,s,i)};e.exports=o,e.exports.displayName="loadConfigAndPage"}});